"use strict";(self.webpackChunktil=self.webpackChunktil||[]).push([[4569],{3905:function(e,n,t){t.d(n,{Zo:function(){return d},kt:function(){return m}});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=a.createContext({}),u=function(e){var n=a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},d=function(e){var n=u(e.components);return a.createElement(p.Provider,{value:n},e.children)},s={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},c=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),c=u(t),m=r,k=c["".concat(p,".").concat(m)]||c[m]||s[m]||l;return t?a.createElement(k,i(i({ref:n},d),{},{components:t})):a.createElement(k,i({ref:n},d))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=t.length,i=new Array(l);i[0]=c;var o={};for(var p in n)hasOwnProperty.call(n,p)&&(o[p]=n[p]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var u=2;u<l;u++)i[u]=t[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}c.displayName="MDXCreateElement"},6392:function(e,n,t){t.r(n),t.d(n,{default:function(){return d},frontMatter:function(){return i},metadata:function(){return o},toc:function(){return p}});var a=t(7462),r=t(3366),l=(t(7294),t(3905)),i={sidebar_position:11},o={unversionedId:"java/effective-java/ch11",id:"java/effective-java/ch11",isDocsHomePage:!1,title:"11. \ub3d9\uc2dc\uc131, Concurrency",description:"\ub3d9\uc2dc\uc131\uc740 \uc5ec\ub7ec \ud65c\ub3d9\uc744 \ub3d9\uc2dc\uc5d0 \uc9c4\ud589\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub3d9\uc2dc \ud504\ub85c\uadf8\ub798\ubc0d\uc740 \ub2e8\uc77c \uc2a4\ub808\ub4dc \ud504\ub85c\uadf8\ub798\ubc0d\ubcf4\ub2e4 \uc5b4\ub835\uc2b5\ub2c8\ub2e4. \ub354 \ub9ce\uc740 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\uace0 \uc2e4\ud328\ub97c \uc7ac\ud604\ud558\uae30 \uc5b4\ub835\uae30 \ub54c\ubb38\uc5d0 \ub3d9\uc2dc\uc131\uc744 \ud53c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc544\ub798\uc5d0\uc11c\ub294 \uba85\ud655\ud558\uace0 \uc815\ud655\ud558\uba70 \uc798 \ubb38\uc11c\ud654 \ub41c \ub3d9\uc2dc \ud504\ub85c\uadf8\ub798\ubc0d\uc744 \uc791\uc131\ud558\ub294\ub370 \ub3c4\uc6c0\uc774 \ub418\ub294 \uc790\ub8cc\uc785\ub2c8\ub2e4.",source:"@site/docs/java/effective-java/ch11.md",sourceDirName:"java/effective-java",slug:"/java/effective-java/ch11",permalink:"/til/docs/java/effective-java/ch11",editUrl:"https://github.com/Azderica/til/edit/master/docs/java/effective-java/ch11.md",version:"current",lastUpdatedAt:1653908159,formattedLastUpdatedAt:"5/30/2022",sidebarPosition:11,frontMatter:{sidebar_position:11},sidebar:"tutorialSidebar",previous:{title:"10. \uc608\uc678",permalink:"/til/docs/java/effective-java/ch10"},next:{title:"12. \uc9c1\ub82c\ud654, Serialization",permalink:"/til/docs/java/effective-java/ch12"}},p=[{value:"Item 78. \uacf5\uc720\ub41c \ubcc0\uacbd \uac00\ub2a5\ud55c \ub370\uc774\ud130\ub294 \ub3d9\uae30\ud654\ud574\uc11c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.",id:"item-78-\uacf5\uc720\ub41c-\ubcc0\uacbd-\uac00\ub2a5\ud55c-\ub370\uc774\ud130\ub294-\ub3d9\uae30\ud654\ud574\uc11c-\uc0ac\uc6a9\ud569\ub2c8\ub2e4",children:[{value:"volatile",id:"volatile",children:[]},{value:"atomic \ud328\ud0a4\uc9c0",id:"atomic-\ud328\ud0a4\uc9c0",children:[]},{value:"\uacb0\ub860\uc801\uc73c\ub85c.",id:"\uacb0\ub860\uc801\uc73c\ub85c",children:[]}]},{value:"Item 79. \uacfc\ub3c4\ud55c \ub3d9\uae30\ud654\ub294 \ud53c\ud569\ub2c8\ub2e4.",id:"item-79-\uacfc\ub3c4\ud55c-\ub3d9\uae30\ud654\ub294-\ud53c\ud569\ub2c8\ub2e4",children:[{value:"\uc678\uacc4\uc778 \uba54\uc11c\ub4dc (alien method)",id:"\uc678\uacc4\uc778-\uba54\uc11c\ub4dc-alien-method",children:[]}]},{value:"Item 80. \uc2a4\ub808\ub4dc\ubcf4\ub2e4\ub294 executors, task, stream\uc744 \uc120\ud638\ud569\ub2c8\ub2e4.",id:"item-80-\uc2a4\ub808\ub4dc\ubcf4\ub2e4\ub294-executors-task-stream\uc744-\uc120\ud638\ud569\ub2c8\ub2e4",children:[{value:"Executor Framework",id:"executor-framework",children:[]}]},{value:"Item 81. <code>wait</code>\uc640 <code>notify</code>\ubcf4\ub2e4\ub294 \ub3d9\uc2dc\uc131 \uc720\ud2f8\ub9ac\ud2f0\ub97c \uc120\ud638\ud569\ub2c8\ub2e4.",id:"item-81-wait\uc640-notify\ubcf4\ub2e4\ub294-\ub3d9\uc2dc\uc131-\uc720\ud2f8\ub9ac\ud2f0\ub97c-\uc120\ud638\ud569\ub2c8\ub2e4",children:[]},{value:"Item 82. \uc2a4\ub808\ub4dc \uc548\uc804\uc131 \uc218\uc900\uc744 \ubb38\uc11c\ud654\ud569\ub2c8\ub2e4.",id:"item-82-\uc2a4\ub808\ub4dc-\uc548\uc804\uc131-\uc218\uc900\uc744-\ubb38\uc11c\ud654\ud569\ub2c8\ub2e4",children:[]},{value:"Item 83. \uc9c0\uc5f0 \ucd08\uae30\ud654\ub294 \uc2e0\uc911\ud788 \uc0ac\uc6a9\ud569\ub2c8\ub2e4.",id:"item-83-\uc9c0\uc5f0-\ucd08\uae30\ud654\ub294-\uc2e0\uc911\ud788-\uc0ac\uc6a9\ud569\ub2c8\ub2e4",children:[]},{value:"Item 84. \ud504\ub85c\uadf8\ub7a8\uc758 \ub3d9\uc791\uc744 \uc2a4\ub808\ub4dc \uc2a4\ucf00\uc904\ub7ec\uc5d0 \uc758\uc874\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",id:"item-84-\ud504\ub85c\uadf8\ub7a8\uc758-\ub3d9\uc791\uc744-\uc2a4\ub808\ub4dc-\uc2a4\ucf00\uc904\ub7ec\uc5d0-\uc758\uc874\ud558\uc9c0-\uc54a\uc2b5\ub2c8\ub2e4",children:[{value:"\uc2a4\ub808\ub4dc \uc2a4\ucf00\uc904\ub7ec\uc5d0 \uc758\uc874\ud558\uba74 \uc548\ub429\ub2c8\ub2e4.",id:"\uc2a4\ub808\ub4dc-\uc2a4\ucf00\uc904\ub7ec\uc5d0-\uc758\uc874\ud558\uba74-\uc548\ub429\ub2c8\ub2e4",children:[]},{value:"\uc131\ub2a5\uacfc \uc774\uc2dd\uc131\uc774 \uc88b\uc740 \ud504\ub85c\uadf8\ub7a8\uc744 \uc791\uc131\ud569\ub2c8\ub2e4.",id:"\uc131\ub2a5\uacfc-\uc774\uc2dd\uc131\uc774-\uc88b\uc740-\ud504\ub85c\uadf8\ub7a8\uc744-\uc791\uc131\ud569\ub2c8\ub2e4",children:[]},{value:"\uc2a4\ub808\ub4dc\ub294 \uc808\ub300 busy-wait \uc0c1\ud0dc\uac00 \ub418\uba74 \uc548\ub429\ub2c8\ub2e4.",id:"\uc2a4\ub808\ub4dc\ub294-\uc808\ub300-busy-wait-\uc0c1\ud0dc\uac00-\ub418\uba74-\uc548\ub429\ub2c8\ub2e4",children:[]}]}],u={toc:p};function d(e){var n=e.components,t=(0,r.Z)(e,["components"]);return(0,l.kt)("wrapper",(0,a.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"\ub3d9\uc2dc\uc131\uc740 \uc5ec\ub7ec \ud65c\ub3d9\uc744 \ub3d9\uc2dc\uc5d0 \uc9c4\ud589\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub3d9\uc2dc \ud504\ub85c\uadf8\ub798\ubc0d\uc740 \ub2e8\uc77c \uc2a4\ub808\ub4dc \ud504\ub85c\uadf8\ub798\ubc0d\ubcf4\ub2e4 \uc5b4\ub835\uc2b5\ub2c8\ub2e4. \ub354 \ub9ce\uc740 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\uace0 \uc2e4\ud328\ub97c \uc7ac\ud604\ud558\uae30 \uc5b4\ub835\uae30 \ub54c\ubb38\uc5d0 \ub3d9\uc2dc\uc131\uc744 \ud53c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc544\ub798\uc5d0\uc11c\ub294 \uba85\ud655\ud558\uace0 \uc815\ud655\ud558\uba70 \uc798 \ubb38\uc11c\ud654 \ub41c \ub3d9\uc2dc \ud504\ub85c\uadf8\ub798\ubc0d\uc744 \uc791\uc131\ud558\ub294\ub370 \ub3c4\uc6c0\uc774 \ub418\ub294 \uc790\ub8cc\uc785\ub2c8\ub2e4."),(0,l.kt)("h2",{id:"item-78-\uacf5\uc720\ub41c-\ubcc0\uacbd-\uac00\ub2a5\ud55c-\ub370\uc774\ud130\ub294-\ub3d9\uae30\ud654\ud574\uc11c-\uc0ac\uc6a9\ud569\ub2c8\ub2e4"},"Item 78. \uacf5\uc720\ub41c \ubcc0\uacbd \uac00\ub2a5\ud55c \ub370\uc774\ud130\ub294 \ub3d9\uae30\ud654\ud574\uc11c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"synchronized")," \ud0a4\uc6cc\ub4dc\ub294 \ud558\ub098\uc758 \uc2a4\ub808\ub4dc\uac00 \ud55c\ubc88\uc5d0 \ubc29\ubc95 \ub610\ub294 \ube14\ub85d\uc744 \uc2e4\ud589\ud568\uc744 \ubcf4\uc7a5\ud569\ub2c8\ub2e4. \uc774\ub97c \ud1b5\ud574\uc11c, \uc5b4\ub5a4 \uba54\uc11c\ub4dc\ub3c4 \uac1d\uccb4\uc758 \uc0c1\ud0dc\uac00 \uc77c\uad00\ub418\uac8c \ub429\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc790\ubc14 \uc5b8\uc5b4\ub294 long\uacfc double \ud615\uc744 \uc81c\uc678\ud558\uace0\ub294 \ubcc0\uc218\ub97c \uc77d\uace0 \uc4f0\ub294 \uac83\uc740 \uc6d0\uc790\uc801\uc785\ub2c8\ub2e4. \uc989, ",(0,l.kt)("strong",{parentName:"p"},"\ub3d9\uae30\ud654 \uc5c6\uc774 \uc5ec\ub7ec \uc2a4\ub808\ub4dc\uac00 \uac19\uc740 \ubcc0\uc218\ub97c \uc218\uc815\ud558\ubbc0\ub85c \ud56d\uc0c1 \uc5b4\ub5a4 \uc2a4\ub808\ub4dc\uac00 \uc815\uc0c1\uc801\uc73c\ub85c \uc800\uc7a5\ud55c \uac12\uc744 \uc77d\uc5b4\uc624\ub294 \uac83\uc744 \ubcf4\uc7a5"),"\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ud558\uc9c0\ub9cc, \uc2a4\ub808\ub4dc\uac00 \ud544\ub4dc\ub97c \uc77d\uc744 \ub54c \ud56d\uc0c1 \uc218\uc815\uc774 \uc644\uc804\ud788 \ubc18\uc601\ub41c \uac12\uc744 \uc5bb\ub294\ub2e4 \ubcf4\uc7a5\ud558\uc9c0\ub9cc, \ud55c \uc2a4\ub808\ub4dc\uac00 \uc800\uc7a5\ub41c \uac12\uc774 \ub2e4\ub978 \uc2a4\ub808\ub4dc\uc5d0\uc11c \ubcf4\uc774\ub294\uac00\ub294 \ubcf4\uc7a5\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \uc989, ",(0,l.kt)("strong",{parentName:"p"},"\uc2a4\ub808\ub4dc \uac04\uc758 \uc548\uc815\uc801\uc778 \ud1b5\uc2e0\uacfc \uc0c1\ud638 \ubc30\uc81c\ub97c \uc704\ud574\uc11c\ub294 \ub3d9\uae30\ud654\uac00 \ud544\uc694\ud569\ub2c8\ub2e4"),"."),(0,l.kt)("p",null,"\uc774\ub97c \ud45c\ud604\ud55c \uc798\ubabb\ub41c \ucf54\ub4dc\ub294 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public class StopThread {\n  private static boolean stopRequested;\n\n  public static void main(String[] args) throws InterruptedException {\n    Thread backgroundThread = new Thread(() -> {\n      int i = 0;\n      while (!stopRequested)\n        i++;\n    });\n    backgroundThread.start();\n    TimeUnit.SECONDS.sleep(1);\n    stopRequested = true;\n  }\n}\n")),(0,l.kt)("p",null,"\ud574\ub2f9 \ucf54\ub4dc\uc758 \uacbd\uc6b0, \uc2a4\ub808\ub4dc\uac00 ",(0,l.kt)("inlineCode",{parentName:"p"},"start"),"\ub418\uace0 1\ucd08\uc758 sleep\ud6c4, \ub8e8\ud504\uac00 \uc885\ub8cc\ub420 \uac83\uc73c\ub85c \uc608\uc0c1\ub418\uc9c0\ub9cc \uc885\ub8cc\ub418\uc9c0\uc54a\uc2b5\ub2c8\ub2e4. \uc774\ub294 \ub3d9\uae30\ud654\uac00 \ub418\uc9c0 \uc54a\uc558\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4. \uc989, \ub3d9\uae30\ud654\uac00 \uc5c6\uc5b4\uc9c0\uba74 \uac00\uc0c1 \uba38\uc2e0\uc774 \uc544\ub798\ucc98\ub7fc \uc218\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"// \uc6d0\ub798 \ucf54\ub4dc\nwhile (!stopRequested)\n  i++;\n\n// \ucd5c\uc801\ud654\ud55c \ucf54\ub4dc\nif (!stopRequested)\n  while (true)\n    i++;\n")),(0,l.kt)("p",null,"\uc774\ub294 JVM\uc774 \uc801\uc6a9\ud558\ub294 ",(0,l.kt)("strong",{parentName:"p"},"\ub04c\uc5b4\uc62c\ub9ac\uae30(hoisting, \ud638\uc774\uc2a4\ud305)"),"\uc774\ub77c\ub294 \ucd5c\uc801\ud654 \uae30\ubc95\uc774 \uc0ac\uc6a9\ub41c \uacbd\uc6b0\uc774\uba70, \uc774\ub294 \uc885\ub8cc\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \uadf8\ub807\uae30 \ub54c\ubb38\uc5d0 \uc544\ub798\ucc98\ub7fc \uace0\uccd0\uc11c \uc9c0\uc18d\uc801\uc73c\ub85c \ub3d9\uc791\ud558\ub3c4\ub85d \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public class StopThread {\n  private static boolean stopRequested;\n\n  private static synchronized void requestStop() {\n    stopRequested = true;\n  }\n\n  private static synchronized boolean stopRequested() {\n    return stopRequested;\n  }\n\n  public static void main(String[] args) throws InterruptedException {\n    Thread backgroundThread = new Thread(() -> {\n      int i = 0;\n      while (!stopRequested())\n        i++;\n    });\n    backgroundThread.start();\n    TimeUnit.SECONDS.sleep(1);\n    requestStop();\n  }\n}\n")),(0,l.kt)("p",null,"\uc774\uc640 \uac19\uc774 \ud558\uba74 \ub3d9\uae30\ud654\ucc98\ub9ac\uac00 \ub418\uba70, \ub3d9\uae30\ud654\ub294 \uc77d\uae30\uc640 \uc4f0\uae30 \ubaa8\ub450 \ud544\uc694\ud569\ub2c8\ub2e4. \ub458 \uc911 \ud558\ub098\ub9cc \ub3d9\uae30\ud654 \ud558\ub294 \uacbd\uc6b0\uc5d0\ub294 \ucda9\uc900\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),(0,l.kt)("h3",{id:"volatile"},"volatile"),(0,l.kt)("p",null,"volatile(\ud718\ubc1c\uc131)\uc740 \ubc30\ud0c0\uc801 \uc218\ud589\uacfc\ub294 \uc0c1\uad00\uc774 \uc5c6\uc9c0\ub9cc \ud56d\uc0c1 \uac00\uc7a5 \ucd5c\uadfc\uc5d0 \uc800\uc7a5\ub41c \uac12\uc744 \uc77d\uc5b4\uc628\ub2e4. \uc774\ub860\uc801\uc73c\ub85c\ub294 CPU \uce90\uc2dc\uac00 \uc544\ub2cc \ucef4\ud4e8\ud130\uc758 \uba54\uc778 \uba54\ubaa8\ub9ac\ub85c\ubd80\ud130 \uac12\uc744 \uc77d\uc5b4\uc635\ub2c8\ub2e4. \uadf8\ub807\uae30 \ub54c\ubb38\uc5d0 \uc77d\uae30/\uc4f0\uae30 \ubaa8\ub450\uac00 \uba54\uc778 \uba54\ubaa8\ub9ac\uc5d0\uc11c \uc218\ud589\ub429\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public class stopThread {\n  private static volatile boolean stopRequested;\n\n  public static void main(String[] args) throws InterruptedException {\n    Thread backgroundThread = new Thread(() -> {\n      int i = 0;\n      while (!stopRequested)\n        i++;\n    });\n    backgroundThread.start();\n    TimeUnit.SECONDS.sleep(1);\n    stopRequested = true;\n  }\n}\n")),(0,l.kt)("p",null,"\uc704\uc758 \ucf54\ub4dc\ucc98\ub7fc ",(0,l.kt)("inlineCode",{parentName:"p"},"volatile"),"\uc744 \uc0ac\uc6a9\ud558\uba74 \ub3d9\uae30\ud654\ub97c \uc0dd\ub7b5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uadf8\ub7ec\ub098 \uc544\ub798\uc758 \uacbd\uc6b0 \ucc98\ub7fc \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\uae30\uc5d0 \uc870\uc2ec\ud788 \uc0ac\uc6a9\ud574\uc57c\ud569\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"private static volatile int nextSerialNumber = 0;\n\npublic static int generateSerialNumber() {\n  return nextSerialNumber++;\n}\n")),(0,l.kt)("p",null,"\ucf54\ub4dc \uc0c1\uc73c\ub85c \uc99d\uac00 \uc5f0\uc0b0\uc790(++)\ub294 \ud558\ub098\uc9c0\ub9cc \uc2e4\uc81c\ub85c\ub294 volatile \ud544\ub4dc\uc5d0 \ub450 \ubc88 \uc811\uadfc\ud569\ub2c8\ub2e4. \uba3c\uc800 \uac12\uc744 \uc77d\uace0 \uadf8 \ub2e4\uc74c\uc5d0 1\uc744 \uc99d\uac00\ud55c \uac12\uacfc \ub3d9\uc77c\ud55c \uc0c8\ub85c\uc6b4 \uac12\uc744\uc744 \ub2e4\uc2dc \uc791\uc131\ud569\ub2c8\ub2e4. \ub530\ub77c\uc11c \ub450 \ubc88\uc9f8 \uc2a4\ub808\ub4dc\uac00 \uccab \ubc88\uc9f8 \uc2a4\ub808\ub4dc\uc758 \uc5f0\uc0b0 \uc0ac\uc774\uc5d0 \ub4e4\uc5b4\uc640 \uacf5\uc720 \ud544\ub4dc\ub97c \uc77d\uac8c\ub418\uba70, \uccab\ubc88\uc9f8 \uc2a4\ub808\ub4dc\uc640 \uac19\uc740 \uac12\uc744 \ubcf4\uac8c\ub420 \uac83\uc785\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc774\ucc98\ub7fc \uc798\ubabb\ub41c \uacb0\uacfc\ub97c \uacc4\uc0b0\ud574\ub0b4\ub294 \uc624\ub958\ub97c \uc548\uc804 \uc2e4\ud328(safety failure)\ub77c\uace0 \ud569\ub2c8\ub2e4. \uc774 \ubb38\uc81c\ub294 \uba54\uc11c\ub4dc\uc5d0 ",(0,l.kt)("inlineCode",{parentName:"p"},"synchronized"),"\ub97c \ubd99\uc774\uace0 ",(0,l.kt)("inlineCode",{parentName:"p"},"violate")," \ud0a4\uc6cc\ub4dc\ub97c \uacf5\uc720 \ud544\ub4dc\uc5d0\uc11c \uc81c\uac70\ud558\uba74 \ud574\uacb0\ub429\ub2c8\ub2e4."),(0,l.kt)("h3",{id:"atomic-\ud328\ud0a4\uc9c0"},"atomic \ud328\ud0a4\uc9c0"),(0,l.kt)("p",null,"\uc704\uc758 volatile \ubcf4\ub2e4 \ub354 \uc88b\uc740 \ubc29\ubc95 \uc911 \ud558\ub098\ub294 ",(0,l.kt)("inlineCode",{parentName:"p"},"java.util.concurrent.atomic"),"\uc744 \uc0ac\uc6a9\ud558\ub294 \uac83\uc785\ub2c8\ub2e4. ",(0,l.kt)("inlineCode",{parentName:"p"},"java.util.concurrent.atomic"),"\uc758 \ud328\ud0a4\uc9c0\uc5d0\ub294 \ub77d \uc5c6\uc774\ub3c4 thread-safe\ud55c \ud074\ub798\uc2a4\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. ",(0,l.kt)("inlineCode",{parentName:"p"},"volatile"),"\uc740 \ub3d9\uae30\ud654 \ud6a8\uacfc \uc911 \ud1b5\uc2e0\ucabd\ub9cc \uc9c0\uc6d0\ud558\uc9c0\ub9cc, ",(0,l.kt)("strong",{parentName:"p"},"\ud328\ud0a4\uc9c0\ub294 \uc6d0\uc790\uc131\uae4c\uc9c0 \uc9c0\uc6d0"),"\ud558\uba70 \uc131\ub2a5\ub3c4 \ub2e4\ub978 \ub3d9\uae30\ud654 \ubc84\uc804\uc5d0 \ube44\ud574 \uc6b0\uc218\ud569\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"private static final AtomicLong nextSerialNum = new AtomicLong();\n\npublic static long generateSerialNumber() {\n  return nextSerialNum.getAndIncrement();\n}\n")),(0,l.kt)("h3",{id:"\uacb0\ub860\uc801\uc73c\ub85c"},"\uacb0\ub860\uc801\uc73c\ub85c."),(0,l.kt)("p",null,"\uac00\ubcc0 \ub370\uc774\ud130\ub97c \uacf5\uc720\ud558\uc9c0 \uc54a\ub294 \uac83\uc774 \ub3d9\uae30\ud654 \ubb38\uc81c\ub97c \ud53c\ud558\ub294 \uac00\uc7a5 \uc88b\uc740 \ubc29\ubc95\uc785\ub2c8\ub2e4. \uc989, ",(0,l.kt)("strong",{parentName:"p"},"\uac00\ubcc0 \ub370\uc774\ud130\ub294 \ub2e8\uc77c \uc2a4\ub808\ub4dc\uc5d0\uc11c\ub9cc \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4.")," \uadf8\ub9ac\uace0 \uc774\uc5d0 \ub300\ud55c \ubb38\uc11c\ud654\ub97c \ud558\ub294 \uac83\uc774 \uc911\uc694\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ud55c \uc2a4\ub808\ub4dc\uac00 \ub370\uc774\ud130\ub97c \uc218\uc815\ud55c \ud6c4\uc5d0 \ub2e4\ub978 \uc2a4\ub808\ub4dc\uc5d0 \uacf5\uc720\ud560 \ub54c\ub294 \ud574\ub2f9 \uac1d\uccb4\uc5d0 \uacf5\uc720\ud558\ub294 \ubd80\ubd84\ub9cc \ub3d9\uae30\ud654\ud574\ub3c4 \ub429\ub2c8\ub2e4. \ub2e4\ub978 \uc2a4\ub808\ub4dc\uc5d0 \uc774\ub7f0 \uac1d\uccb4\ub97c \uac74\ub124\ub294 \ud589\uc704\ub97c ",(0,l.kt)("inlineCode",{parentName:"p"},"\uc548\uc804 \ubc1c\ud589(safe publication)"),"\uc774\ub77c\uace0 \ud569\ub2c8\ub2e4. \ud074\ub798\uc2a4 \ucd08\uae30\ud654 \uacfc\uc815\uc5d0\uc11c \uac1d\uccb4\ub97c \uc815\uc801 \ud544\ub4dc, volatile \ud544\ub4dc, final \ud544\ub4dc \ud639\uc740 \ubcf4\ud1b5\uc758 \ub77d\uc744 \ud1b5\ud574 \uc811\uadfc\ud558\ub294 \ud544\ub4dc \uadf8\ub9ac\uace0 \ub3d9\uc2dc\uc131 \uceec\ub809\uc158\uc5d0 \uc800\uc7a5\ud558\uba74 \uc548\uc804\ud558\uac8c \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc5ec\ub7ec \uc2a4\ub808\ub4dc\uac00 \ubcc0\uacbd \uac00\ub2a5\ud55c \ub370\uc774\ud130\ub97c \uacf5\uc720\ud560 \ub54c \ub370\uc774\ud130\ub97c \uc77d\uac70\ub098 \uc4f0\ub294 \uac01 \uc2a4\ub808\ub4dc\ub294 \ub3d9\uae30\ud654\ub97c \uc218\ud589\ud558\ub294 \uac83\uc774 \uc911\uc694\ud569\ub2c8\ub2e4."),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"item-79-\uacfc\ub3c4\ud55c-\ub3d9\uae30\ud654\ub294-\ud53c\ud569\ub2c8\ub2e4"},"Item 79. \uacfc\ub3c4\ud55c \ub3d9\uae30\ud654\ub294 \ud53c\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ub3d9\uae30\ud654\ub97c \ud558\uc9c0 \uc54a\uc73c\uba74 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud569\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \uacfc\ub3c4\ud55c \ub3d9\uae30\ud654\ub294 \uc131\ub2a5 \uc800\ud558, \ub370\ub4dc\ub77d, \ube44\uacb0\uc815\uc801 \ub3d9\uc791\uc744 \uc720\ubc1c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("h3",{id:"\uc678\uacc4\uc778-\uba54\uc11c\ub4dc-alien-method"},"\uc678\uacc4\uc778 \uba54\uc11c\ub4dc (alien method)"),(0,l.kt)("p",null,"\uc774\ub7ec\ud55c \uc751\ub2f5 \ubd88\uac00 \ubc0f \uc548\uc804 \ubb38\uc81c\ub97c \uc904\uc774\uae30 \uc704\ud574\uc11c\ub294, ",(0,l.kt)("strong",{parentName:"p"},"\ub3d9\uae30\ud654\ub41c \uba54\uc11c\ub4dc \ub610\ub294 \ube14\ub85d \ub0b4\uc5d0\uc11c \ud074\ub77c\uc774\uc5b8\ud2b8\uc5d0\uac8c \uc81c\uc5b4\uad8c\uc744 \ub118\uae30\uba74 \uc548\ub429\ub2c8\ub2e4.")," \uc989, \ub3d9\uae30\ud654\ub41c \uc601\uc561 \ub0b4\uc5d0\uc11c \uc7ac\uc815\uc758\ub418\ub3c4\ub85d \uc124\uacc4\ub41c \uba54\uc11c\ub4dc \ub610\ub294 \ud074\ub77c\uc774\uc5b8\ud2b8\uac00 \ud568\uc218 \uac1c\uccb4\uc758 \ud615\ud0dc\ub85c \uc81c\uacf5\ud558\ub294 \uba54\uc11c\ub4dc\ub97c \ud638\ucd9c\ud558\uba74 \uc548\ub429\ub2c8\ub2e4. \uc774\ub7ec\ud55c ",(0,l.kt)("strong",{parentName:"p"},"\uba54\uc11c\ub4dc\ub294 \ubb34\uc2a8 \uc77c\uc744 \ud560\uc9c0 \ubaa8\ub974\uae30 \ub54c\ubb38\uc5d0 \uc608\uc678\ub97c \ubc1c\uc0dd\uc2dc\ud0a4\uac70\ub098, \uad50\ucc29\uc0c1\ud0dc\ub97c \ub9cc\ub4e4\uac70\ub098 \ub370\uc774\ud130\ub97c \ud6fc\uc190 \ud560 \uc218 \uc788\uc73c\uba70 \uc774\ub7ec\ud55c \uba54\uc11c\ub4dc\ub97c \uc678\uacc4\uc778 \uba54\uc11c\ub4dc(",(0,l.kt)("inlineCode",{parentName:"strong"},"alien method"),")\ub77c\uace0 \ud569\ub2c8\ub2e4.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"// Broken - \ub3d9\uae30\ud654 \ub41c \ube14\ub85d\uc5d0\uc11c \uc678\uacc4\uc778 \uba54\uc11c\ub4dc\ub97c \ud638\ucd9c\ud55c \uacbd\uc6b0.\npublic class ObservableSet<E> extends ForwardingSet<E> {\n  public ObservableSet(Set<E> set) { super(set); }\n\n  private final List<SetObserver<E>> observers = new ArrayList<>();\n\n  public void addObserver(SetObserver<E> observer) {\n    synchronized(observers) {\n      observers.add(observer);\n    }\n  }\n\n  public boolean removeObserver(SetObserver<E> observer) {\n    synchronized(observers) {\n      return observers.remove(observer);\n    }\n  }\n\n  private void notifyElementAdded(E element) {\n    synchronized(observers) {\n      for (SetObserver<E> observer : observers)\n        observer.added(this, element);\n    }\n  }\n\n  @Override\n  public boolean add(E element) {\n    boolean added = super.add(element);\n    if (added)\n      notifyElementAdded(element);\n    return added;\n  }\n\n  @Override\n  public boolean addAll(Collection<? extends E> c) {\n    boolean result = false;\n    for (E element : c)\n      result |= add(element);  // Calls notifyElementAdded\n    return result;\n  }\n}\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"@FunctionalInterface\npublic interface SetObserver <E> {\n  // \uad00\ucc30 \uac00\ub2a5\ud55c \uc9d1\ud569\uc5d0 \uc694\uc18c\uac00 \ucd94\uac00 \ub420 \ub54c \ud638\ucd9c\ub429\ub2c8\ub2e4.\n  void added (ObservableSet <E> set, E element);\n}\n")),(0,l.kt)("p",null,"\uc704 \ucf54\ub4dc\ub294 \uc9d1\ud569\uc5d0 \uc6d0\uc18c\uac00 \ucd94\uac00\ub418\uba74 \uc54c\ub9bc\uc744 \ubc1b\ub294 \uad00\ucc30\uc790 \ud328\ud134\uc744 \uc0ac\uc6a9\ud55c \uc608\uc81c \ucf54\ub4dc\uc785\ub2c8\ub2e4. \ud574\ub2f9 \ucf54\ub4dc\ub294 ",(0,l.kt)("inlineCode",{parentName:"p"},"addObserver")," \uba54\uc11c\ub4dc\ub97c \ud638\ucd9c\ud574\uc11c \uc54c\ub9bc\uc744 \uad6c\ub3c5\ud558\uace0, ",(0,l.kt)("inlineCode",{parentName:"p"},"removeObserver")," \uba54\uc11c\ub4dc\ub97c \ud638\ucd9c\ud574\uc11c \uad6c\ub3c5\uc744 \ucde8\uc18c\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc774\ub97c \ud1b5\ud55c \uc798\ubabb\ub41c \ucf54\ub4dc\ub294 \uc544\ub798\uc640 \uac19\uc2b5\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"set.addObserver (new SetObserver <> () {\n  public void added (ObservableSet <Integer> s, Integer e) {\n    System.out.println(e);\n      if (e == 23)\n        s.removeObserver (this);\n  }\n});\n")),(0,l.kt)("p",null,"\uc704 \ucf54\ub4dc\ub294 ",(0,l.kt)("inlineCode",{parentName:"p"},"ConcurrentModificationException"),"\uac00 \ubc1c\uc0dd\ud569\ub2c8\ub2e4. \ud574\ub2f9 \uacbd\uc6b0, 0\ubd80\ud130 23\uae4c\uc9c0 \ucd9c\ub825\ud55c \ud6c4 \uc790\uc2e0\uc744 remove\ud558\uace0 \uc885\ub8cc\ud560 \uac83 \uac19\uc73c\ub098, \uc2e4\uc81c\ub85c \uc2e4\ud589\ud574\ubcf4\uba74 0~23\uae4c\uc9c0 \ucd9c\ub825 \ud6c4 \uc608\uc678\uac00 \ubc1c\uc0dd\ud569\ub2c8\ub2e4. \uc774\uc720\ub294 added \uba54\uc11c\ub4dc \ud638\ucd9c\uc774 \uc77c\uc5b4\ub09c \uc2dc\uc810\uc774 ",(0,l.kt)("inlineCode",{parentName:"p"},"notifyElementAdded"),"\uac00 ",(0,l.kt)("inlineCode",{parentName:"p"},"Observer"),"\ub4e4\uc758 \ub9ac\uc2a4\ud2b8\ub97c \uc21c\ud68c\ud558\ub294 \ub3c4\uc911\uc774\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4."),(0,l.kt)("p",null,"added \uba54\uc11c\ub4dc\uc5d0\uc11c ",(0,l.kt)("inlineCode",{parentName:"p"},"ObservableSet.removeObserver")," \uba54\uc11c\ub4dc\ub97c \ud638\ucd9c\ud558\uace0, \ub610 \uc5ec\uae30\uc11c observers.remove \uba54\uc11c\ub4dc\ub97c \ud638\ucd9c\ud558\ub294\ub370 \uc5ec\uae30\uc11c \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud569\ub2c8\ub2e4. \uc989, \uc21c\ud68c\ud558\uace0 \uc788\ub294 \ub9ac\uc2a4\ud2b8\uc5d0\uc11c \uc6d0\uc18c\ub97c \uc81c\uac70\ud558\ub824\uace0\ud558\uae30 \ub54c\ubb38\uc5d0 ",(0,l.kt)("inlineCode",{parentName:"p"},"notifyElementAdded")," \uba54\uc11c\ub4dc\uc5d0\uc11c \uc218\ud589\ud558\ub294 \uc21c\ud68c\ub294 \ub3d9\uae30\ud654 \ube14\ub85d \uc548\uc5d0 \uc788\uc5b4 \ub3d9\uc2dc \uc218\uc815\uc774 \uc77c\uc5b4\ub098\uc9c0\ub294 \uc54a\uc9c0\ub9cc, \uc790\uc2e0\uc774 \ucf5c\ubc31\uc744 \uac70\uccd0 \ub418\ub3cc\uc544\uc640 \uc218\uc815\ud558\ub294 \uac83\uc740 \ub9c9\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ub610 \ub2e4\ub978 \uc608\uc2dc\ub85c \uc4f8\ub370\uc5c6\ub294 \ubc31\uadf8\ub77c\uc6b4\ub4dc \uc2a4\ub808\ub4dc\ub97c \uc0ac\uc6a9\ud55c \ucf00\uc774\uc2a4\ub97c \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"// \ubc31\uadf8\ub77c\uc6b4\ub4dc \uc2a4\ub808\ub4dc\ub97c \ubd88\ud544\uc694\ud558\uac8c \uc0ac\uc6a9\ud558\ub294 \uc635\uc800\ubc84\nset.addObserver (new SetObserver <> () {\n  public void added (ObservableSet <Integer> s, Integer e) {\n    System.out.println (e);\n    if (e == 23) {\n      ExecutorService exec = Executors.newSingleThreadExecutor ();\n      try {\n        exec.submit (()-> s.removeObserver (this)). get ();\n      } catch (ExecutionException | InterruptedException ex) {\n        throw new AssertionError (ex);\n      } finally {\n        exec.shutdown ();\n      }\n    }\n  }\n});\n")),(0,l.kt)("p",null,"\ud574\ub2f9 \ucf54\ub4dc\ub294 \uc608\uc678\ub294 \ubc1c\uc0dd\ud558\uc9c0 \uc54a\uc9c0\ub9cc, deadlock\uc5d0 \ube60\uc9d1\ub2c8\ub2e4. \ubc31\uadf8\ub77c\uc6b4\ub4dc \uc2a4\ub808\ub4dc\uac00 ",(0,l.kt)("inlineCode",{parentName:"p"},"s.removeObserver")," \uba54\uc11c\ub4dc\ub97c \ud638\ucd9c\ud558\uba74, \uba54\uc778 \uc2a4\ub808\ub4dc\uac00 \uc774\ubbf8 \ub77d\uc744 \uac00\uc9c0\uace0 \uc788\uae30 \ub54c\ubb38\uc5d0 ",(0,l.kt)("inlineCode",{parentName:"p"},"Observer"),"\uc744 \uc7a0\uadf8\ub824 \uc2dc\ub3c4\ud558\uc9c0\ub9cc \ub77d\uc744 \uc5bb\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc774\ub7ec\ud55c \uc678\uacc4\uc778 \uba54\uc11c\ub4dc \uc608\uc81c\ub97c \uc815\uc758\ud55c \ucf54\ub4dc\ub97c \ubcf4\uba74 ",(0,l.kt)("inlineCode",{parentName:"p"},"removerObserver")," \uba54\uc11c\ub4dc\uc5d0\ub294 ",(0,l.kt)("inlineCode",{parentName:"p"},"synchronized")," \ud0a4\uc6cc\ub4dc\uac00 \uc788\uae30 \ub54c\ubb38\uc5d0 \uc2e4\ud589 \uc2dc \ub77d\uc774 \uac78\ub9bd\ub2c8\ub2e4. \ub3d9\uc2dc\uc5d0 \uba54\uc778 \uc2a4\ub808\ub4dc\ub294 \ubc31\uadf8\ub77c\uc6b4\ub4dc \uc2a4\ub808\ub4dc\uac00 ",(0,l.kt)("inlineCode",{parentName:"p"},"Observer"),"\ub97c \uc81c\uac70\ud558\uae30\ub9cc \uae30\ub2e4\ub9ac\uae30 \ub54c\ubb38\uc5d0 deadlock\uc5d0 \ube60\uc9d1\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc774\ub97c \ud574\uacb0\ud558\ub294 \ubc29\ubc95\uc740 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\uc678\uacc4\uc778 \uba54\uc11c\ub4dc \ud638\ucd9c\uc744 \ub3d9\uae30\ud654 \ube14\ub7ed \ubc14\uae65\uc73c\ub85c \uc62e\uae41\ub2c8\ub2e4.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"private void notifyElementAdded(E element) {\n  List<SetObserver<E>> snapshot = null;\n  synchronized(observers) {\n    snapshot = new ArrayList<>(observers);\n  }\n  for (SetObserver<E> observer : snapshot)\n    observer.added(this, element);\n}\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ub354 \ub098\uc740 \ubc29\ubc95\uc73c\ub85c\ub294 \uc790\ubc14\uc758 ",(0,l.kt)("inlineCode",{parentName:"li"},"concurrent collection"),"\uc744 \uc0ac\uc6a9\ud558\ub294 \ubc29\ubc95\ub3c4 \uc788\uc2b5\ub2c8\ub2e4.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"private final List<SetObserver<E>> observers = new CopyOnWriteArrayList<>();\n\npublic void addObserver(SetObserver<E> observer) {\n  observers.add(observer);\n}\n\npublic boolean removeObserver(SetObserver<E> observer) {\n  return observers.remove(observer);\n}\n\nprivate void notifyElementAdded(E element) {\n  for (SetObserver<E> observer : observers)\n    observer.added(this, element);\n}\n")),(0,l.kt)("p",null,"\uc704\uc640 \uac19\uc740 ",(0,l.kt)("inlineCode",{parentName:"p"},"CopyOnWriteArrayList"),"\ub294 ArrayList\ub97c \uad6c\ud604\ud55c \ud074\ub798\uc2a4\ub85c \ub0b4\ubd80\ub97c \ubcc0\uacbd\ud558\ub294 \uc791\uc5c5\uc740 \ud56d\uc0c1 \uae68\ub057\ud55c \ubcf5\uc0ac\ubcf8\uc744 \ub9cc\ub4e4\uc5b4\uc11c \uc218\ud589\ud558\ub3c4\ub85d \uad6c\ud604\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. \ub0b4\ubd80\uc758 \ubc30\uc5f4\uc740 \uc218\uc815\ub418\uc9c0 \uc54a\uc544, \uc21c\ud68c\ud560 \ub54c \ub77d\uc774 \ud544\uc694\uc5c6\uc774 \ub9e4\uc6b0 \ube60\ub985\ub2c8\ub2e4. \ub2e4\ub978 \uc6a9\ub3c4\ub85c \uc0ac\uc6a9\ub418\ub294 \uacbd\uc6b0\uc5d0\ub294 \ubcf5\uc0ac\ub97c \ub9e4\ubc88 \ud574\uc57c\ud558\uae30\uc5d0\ub294 \ub290\ub9ac\uc9c0\ub9cc \uc218\uc815\ud560 \uc77c\uc774 \uc801\uace0 \uc21c\ud68c\ub9cc \uc790\uc8fc \uc77c\uc5b4\ub098\ub294 \uacbd\uc6b0, Observer \ub9ac\uc2a4\ud2b8 \uc6a9\ub3c4\ub85c\ub294 \ucd5c\uc801\uc785\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc774\ucc98\ub7fc \uacfc\ub3c4\ud55c \ub3d9\uae30\ud654\ub294 \ubcd1\ub82c\ub85c \uc2e4\ud589\ud560 \uae30\ud68c\ub97c \uc77d\uace0, \ubaa8\ub4e0 \ucf54\uc5b4\uac00 \uba54\ubaa8\ub9ac\ub97c \uc77c\uad00\ub418\uac8c \ubcf4\uae30 \uc704\ud55c \uc9c0\uc5f0\uc2dc\uac04\uc774 \uc9c0\uc5f0 \ube44\uc6a9\uc785\ub2c8\ub2e4. \ub610\ud55c JVM\uc73c \ucf54\ub4dc \ucd5c\uc801\ud654\ub97c \uc81c\ud55c\ud558\ub294 \uac83\ub3c4 \uace0\ub824\ud574\uc57c\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc989, \uac00\ubcc0 \ud074\ub798\uc2a4\ub97c \uc791\uc131\ud560 \ub54c\ub294 \ub450\uac00\uc9c0 \uc120\ud0dd\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ub3d9\uae30\ud654\ub97c \ud558\uc9c0 \uc54a\uace0 \uadf8 \ud074\ub798\uc2a4\ub97c \uc0ac\uc6a9\ud574\uc57c\ud558\ub294 \ud074\ub798\uc2a4\uac00 \uc678\ubd80\uc5d0\uc11c \ub3d9\uae30\ud654 \ud558\ub294 \uac83",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"java.util")," \ud328\ud0a4\uc9c0 (vector\uc640 hashtable \uc81c\uc678)"))),(0,l.kt)("li",{parentName:"ul"},"\ub3d9\uae30\ud654\ub97c \ub0b4\ubd80\uc5d0\uc11c \uc218\ud589\ud574 ",(0,l.kt)("inlineCode",{parentName:"li"},"thread-safe"),"\ud55c \ud074\ub798\uc2a4\ub97c \ub9cc\ub4dc\ub294 \uac83",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"java.concurrent"),"\ud328\ud0a4\uc9c0")))),(0,l.kt)("p",null,"\uacb0\ub860\uc801\uc73c\ub85c ",(0,l.kt)("strong",{parentName:"p"},"\ub3d9\uae30\ud654 \uc601\uc5ed\uc5d0\uc11c\ub294 \uc791\uc5c5\uc744 \ucd5c\uc18c\ud55c\uc73c\ub85c \uc904\uc774\ub294 \uac83\uc774 \uc911\uc694"),"\ud569\ub2c8\ub2e4. \uc624\ub798 \uac78\ub9ac\ub294 \uc791\uc5c5\uc774\ub77c\uba74 \ub3d9\uae30\ud654 \uc601\uc5ed \ubc16\uc73c\ub85c \uc62e\uae30\ub294 \ubc29\ubc95\uc744 \ucc3e\uc544\ubcf4\ub294 \uac83\uc774 \uc911\uc694\ud569\ub2c8\ub2e4. \uc5ec\ub7ec \uc2a4\ub808\ub4dc\uac00 \ud638\ucd9c\ud560 \uac00\ub2a5\uc131\uc774 \uc788\ub294 \uba54\uc11c\ub4dc\uac00 \uc815\uc801 \ud544\ub4dc\ub97c \uc218\uc815\ud55c\ub2e4\uba74 \uadf8 \ud544\ub4dc\ub97c \uc0ac\uc6a9\ud558\uae30 \uc804\uc5d0 \ubc18\ub4dc\uc2dc \ub3d9\uae30\ud654\ud574\uc57c\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uac00\ubcc0 \ud074\ub798\uc2a4\ub97c \uc124\uacc4\ud560 \ub54c\ub294 \uc2a4\uc2a4\ub85c \ub3d9\uae30\ud654\ud574\uc57c\ud560\uc9c0\ub97c \uace0\ubbfc\ud574\uc57c\ud569\ub2c8\ub2e4. \uacfc\ub3c4\ud55c \ub3d9\uae30\ud654\ub97c \ud53c\ud558\ub294 \uac83\uc774 \uc911\uc694\ud558\uba70 \ud569\ub2f9\ud55c \uc774\uc720\uac00 \uc788\ub294 \uacbd\uc6b0\uc5d0\ub9cc \ub0b4\ubd80\uc5d0\uc11c \ub3d9\uae30\ud654\ud558\uace0 \ub3d9\uae30\ud654 \uc5ec\ubd80\ub97c \ubb38\uc11c\ud654\ud569\ub2c8\ub2e4."),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"item-80-\uc2a4\ub808\ub4dc\ubcf4\ub2e4\ub294-executors-task-stream\uc744-\uc120\ud638\ud569\ub2c8\ub2e4"},"Item 80. \uc2a4\ub808\ub4dc\ubcf4\ub2e4\ub294 executors, task, stream\uc744 \uc120\ud638\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc2a4\ub808\ub4dc\ub97c \uc9c1\uc811 \ub2e4\ub8f0 \uc218 \uc788\uc9c0\ub9cc, ",(0,l.kt)("inlineCode",{parentName:"p"},"concurrent")," \ud328\ud0a4\uc9c0\ub97c \uc774\uc6a9\ud558\uba74 \uac04\ub2e8\ud558\uac8c \ucf54\ub4dc\ub97c \uc791\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("h3",{id:"executor-framework"},"Executor Framework"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"java.util.concurrent")," \ud328\ud0a4\uc9c0\uc5d0\ub294 \uc778\ud130\ud398\uc774\uc2a4 \uae30\ubc18\uc758 \uc720\uc5f0\ud55c \ud0dc\uc2a4\ud06c \uc2e4\ud589 \uae30\ub2a5\uc744 \ub2f4\uc740 \uc2e4\ud589\uc790 \ud504\ub808\uc784\uc6cc\ud06c(Executor Framework)\uac00 \uc788\uc2b5\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4 \uc61b\ub0a0\uc5d0\ub294 \uc791\uc5c5 \ud050\ub97c \uc791\uc131\ud558\uae30 \uc704\ud574\uc11c \ub9ce\uc740 \ucf54\ub4dc\ub97c \uc791\uc131\ud588\ub2e4\uba74 \ud604\uc7ac\ub294 \uac04\ub2e8\ud558\uac8c \uc0dd\uc131\uac00\ub2a5\ud569\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"// \uc791\uc5c5 \ud050 \uc0dd\uc131\nExecutorService exec = Executors.newSingleThreadExecutor ();\n\n// \uc791\uc5c5 \ud050 \uc2e4\ud589\nexec.execute(runnable);\n\n// \uc791\uc5c5 \ud050 \uc0ad\uc81c\nexec.shutdown();\n")),(0,l.kt)("p",null,"\uc2e4\ud589\uc790 \ud504\ub808\uc784\uc6cc\ud06c\ub294 \uc5ec\ub7ec \uae30\ub2a5\uc744 \uac00\uc9c0\uace0 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"th"},"method")),(0,l.kt)("th",{parentName:"tr",align:null},"\uc124\uba85"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"get")),(0,l.kt)("td",{parentName:"tr",align:null},"\ud2b9\uc815 \ud0dc\uc2a4\ud06c\uac00 \uc644\ub8cc\ub418\uae30 \uae4c\uc9c0\ub97c \uae30\ub2e4\ub9bc")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"invokeAny")),(0,l.kt)("td",{parentName:"tr",align:null},"\ud0dc\uc2a4\ud06c \uc911 \ud558\ub098\uac00 \uc644\ub8cc\ub418\ub294 \uac83\uc744 \uae30\ub2e4\ub9bc")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"invokeAll")),(0,l.kt)("td",{parentName:"tr",align:null},"\ubaa8\ub4e0 \ud14c\uc2a4\ud06c\uac00 \uc885\ub8cc\ub418\ub294 \uac83\uc744 \uae30\ub2e4\ub9bc")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"awaitTermination")),(0,l.kt)("td",{parentName:"tr",align:null},"\uc2e4\ud589\uc790 \uc11c\ube44\uc2a4\uac00 \uc885\ub8cc\ud558\uae30\ub97c \uae30\ub2e4\ub9bc")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"ExecutorCompletionService")),(0,l.kt)("td",{parentName:"tr",align:null},"\uc644\ub8cc\ub41c \ud0dc\uc2a4\ud06c\ub4e4\uc758 \uacb0\uacfc\ub97c \ucc28\ub840\ub85c \ubc1b\uc74c")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"ScheduledThreadPoolExecutor")),(0,l.kt)("td",{parentName:"tr",align:null},"\ud0dc\uc2a4\ud06c\ub97c \ud2b9\uc815 \uc2dc\uac04\uc5d0 \ud639\uc740 \uc8fc\uae30\uc801\uc73c\ub85c \uc2e4\ud589\ud568")))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://madplay.github.io/post/prefer-executors-tasks-and-streams-to-threads"},"\ucd9c\ucc98"))),(0,l.kt)("p",null,"\ub458 \uc774\uc0c1\uc758 \uc2a4\ub808\ub4dc\uac00 \ub300\uae30\uc5f4\uc758 \uc694\uccad\uc744 \ucc98\ub9ac\ud558\ub3c4\ub85d \ud558\ub824\uba74 ",(0,l.kt)("inlineCode",{parentName:"p"},"ThreadPool"),"\uc744 \uc4f0\uba74 \ub429\ub2c8\ub2e4."),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Executors.newCachedThreadPool"),"\uc740 \uac00\ubcbc\uc6b4 \ud504\ub85c\uadf8\ub7a8\uc744 \uc2e4\ud589\ud558\ub294 \uc11c\ubc84\uc5d0 \uc801\ud569\ud569\ub2c8\ub2e4. \uc694\uccad\ubc1b\uc740 task\ub97c \ud050\uc5d0 \uc313\uc9c0 \uc54a\uace0 \ubc14\ub85c \ucc98\ub9ac\ud558\uba70, \uc0ac\uc6a9 \uac00\ub2a5\ud55c \uc2a4\ub808\ub4dc\uac00 \uc5c6\ub2e4\uba74 \uc989\uc2dc \uc2a4\ub808\ub4dc\ub97c \uc0dd\uc131\ud558\uc5ec \ucc98\ub9ac\ud569\ub2c8\ub2e4. \uadf8\ub7ec\ub098 \uc11c\ubc84\uac00 \ubb34\uac81\ub2e4\uba74 \uc0c8\ub85c\uc6b4 task\uac00 \ub3c4\ucc29\ud560 \ub54c\ub9c8\ub2e4 \ub2e4\ub978\uc2a4\ub808\ub4dc\ub97c \uc0dd\uc131\ud558\uae30 \ub54c\ubb38\uc5d0 \ucd5c\uc545\uc785\ub2c8\ub2e4. \ub530\ub77c\uc11c, \ubb34\uac70\uc6b4 \ud504\ub85c\ub355\uc158 \uc11c\ubc84\uc5d0\uc11c\ub294 ",(0,l.kt)("inlineCode",{parentName:"p"},"Executors.newFixedThreadPool"),"\uc744 \uc120\ud0dd\ud574\uc11c \uc2a4\ub808\ub4dc \uac1c\uc218\ub97c \uace0\uc815\ud558\uac70\ub098 ",(0,l.kt)("inlineCode",{parentName:"p"},"ThreadPoolExecutor"),"\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc2a4\ub808\ub4dc\ub97c \uc9c1\uc811 \ub2e4\ub8e8\ub294 \uac83\uc740 \ud56d\uc0c1 \uc790\uc81c\ud574\uc57c\ud569\ub2c8\ub2e4. ",(0,l.kt)("strong",{parentName:"p"},"\uc77c\ubc18\uc801\uc73c\ub85c\ub294 \uc2a4\ub808\ub4dc\ub97c \uc9c1\uc811 \ub2e4\ub8e8\uae30 \ubcf4\ub2e4\ub294 \uc2e4\ud589\uc790\uc640 \ud504\ub808\uc784\uc6cc\ud06c\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uc911\uc694"),"\ud569\ub2c8\ub2e4. \uc774\ub807\uac8c \uc0ac\uc6a9\ud558\uac8c \ub418\uba74 \uc791\uc5c5 \ub2e8\uc704\uc640 \uc2e4\ud589 \ub9e4\ucee4\ub2c8\uc998\uc744 \ubd84\ub9ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. (",(0,l.kt)("inlineCode",{parentName:"p"},"Runnable"),"\uc640 ",(0,l.kt)("inlineCode",{parentName:"p"},"Callable"),")"),(0,l.kt)("p",null,"\uc790\ubc14 7\ubd80\ud130\ub294 \uc2e4\ud589\uc790 \ud504\ub808\uc784\uc6cc\ud06c\ub294 ",(0,l.kt)("inlineCode",{parentName:"p"},"fork-join")," task\ub97c \uc9c0\uc6d0\ud569\ub2c8\ub2e4. ",(0,l.kt)("inlineCode",{parentName:"p"},"ForkJoinTask"),"\uc758 \uc778\uc2a4\ud134\uc2a4\ub294 \uc791\uc740 \ud558\uc704 task\ub85c \ub098\ub20c \uc218 \uc788\uace0, ",(0,l.kt)("inlineCode",{parentName:"p"},"ForkJoinPool"),"\uc744 \uad6c\uc131\ud558\ub294 \uc2a4\ub808\ub4dc\ub4e4\uc774 \uc774 task\ub4e4\uc744 \ucc98\ub9ac\ud558\uba70 \uc77c\uc744 \uba3c\uc800 \ub05d\ub0b8 \uc2a4\ub808\ub4dc\uac00 \ub2e4\ub978 \uc2a4\ub808\ub4dc\uc758 \ub0a8\uc740 task\ub97c \uac00\uc838\uc640\uc11c \ub300\uc2e0 \ucc98\ub9ac\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub97c \ud1b5\ud574\uc11c \ucd5c\ub300\ud55c\uc758 CPU\ub97c \uc0ac\uc6a9\ud574\uc11c, \ub192\uc740 \ucc98\ub9ac\ub7c9\uacfc \ub0ae\uc740 \uc9c0\uc5f0\uc2dc\uac04\uc744 \ub2ec\uc131\ud569\ub2c8\ub2e4."),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"item-81-wait\uc640-notify\ubcf4\ub2e4\ub294-\ub3d9\uc2dc\uc131-\uc720\ud2f8\ub9ac\ud2f0\ub97c-\uc120\ud638\ud569\ub2c8\ub2e4"},"Item 81. ",(0,l.kt)("inlineCode",{parentName:"h2"},"wait"),"\uc640 ",(0,l.kt)("inlineCode",{parentName:"h2"},"notify"),"\ubcf4\ub2e4\ub294 \ub3d9\uc2dc\uc131 \uc720\ud2f8\ub9ac\ud2f0\ub97c \uc120\ud638\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc774\uc81c\ub294 ",(0,l.kt)("inlineCode",{parentName:"p"},"wait"),"\uc640 ",(0,l.kt)("inlineCode",{parentName:"p"},"notify"),"\ubcf4\ub2e4 \ub354 \uace0\uc218\uc900\uc774\uba70 \ud3b8\ub9ac\ud55c \ub3d9\uc2dc\uc131 \uc720\ud2f8\ub9ac\ud2f0\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4. ",(0,l.kt)("inlineCode",{parentName:"p"},"java.util.concurrent")," \ud328\ud0a4\uc9c0\uc758 \uace0\uc218\uc900 \uc720\ud2f8\ub9ac\ud2f0\ub294 \ud06c\uac8c \uc2e4\ud589\uc790 \ud504\ub808\uc784\uc6cc\ud06c, \ub3d9\uc2dc\uc131 \uceec\ub809\uc158, \ub3d9\uae30\ud654 \uc7a5\uce58\ub85c \ub098\ub20c \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"java.util.concurrent")," \ud328\ud0a4\uc9c0\ub294 \uace0\uc218\uc900\uc758 \ub3d9\uc2dc\uc131 \uc720\ud2f8\ub9ac\ud2f0\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. \ud06c\uac8c \uc138\uac00\uc9c0\ub85c \ubd84\ub958\ud558\uba74, ",(0,l.kt)("inlineCode",{parentName:"p"},"Executor Framework"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"Concurrent Collections"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"Synchronizers"),"\ub85c \ub098\ub20c \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc55e\uc5d0\uc11c ",(0,l.kt)("inlineCode",{parentName:"p"},"Executor Framework"),"\ub97c \uc124\uba85\ud588\uc73c\ubbc0\ub85c, ",(0,l.kt)("inlineCode",{parentName:"p"},"Concurrent Collections"),"\uacfc ",(0,l.kt)("inlineCode",{parentName:"p"},"Synchronizers"),"\uc5d0 \ub300\ud574 \uc124\uba85\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Concurrent Collections(\ub3d9\uc2dc \uceec\ub809\uc158)"),"\uc640 \uac19\uc740 \uceec\ub809\uc158 \ud45c\uc900 \uc778\ud130\ud398\uc774\uc2a4\ub294 \uace0\uc131\ub2a5\uc758 \ub3d9\uc2dc\uc131\uc774 \uad6c\ud604\ub418\uc5b4, ",(0,l.kt)("inlineCode",{parentName:"p"},"List"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"Queue"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"Map"),"\ub4f1\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. \uc774\ub7ec\ud55c \uad6c\ud604\uc740 \ub0b4\ubd80\uc801\uc73c\ub85c \ub3d9\uae30\ud654\ub97c \uad00\ub9ac\ud569\ub2c8\ub2e4. \uadf8\ub807\uae30 \ub54c\ubb38\uc5d0 \ub3d9\uc2dc\uc131 \uceec\ub809\uc158\uc5d0\uc11c \ub3d9\uc2dc\uc131\uc744 \uc81c\uc678\ud558\ub294 \uac83\uc740 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4. (\uc678\ubd80\uc5d0\uc11c Lock\uc744 \uc0ac\uc6a9\ud558\uba74 \uc18d\ub3c4\uac00 \ub290\ub824\uc9d1\ub2c8\ub2e4.)"),(0,l.kt)("p",null,"\ub3d9\uc2dc\uc131 \uceec\ub809\uc158\uc5d0\uc11c \ub3d9\uc2dc \ud65c\ub3d9\uc744 \uc81c\uc678\ud560 \uc218 \uc5c6\uae30 \ub54c\ubb38\uc5d0 \uc774\ub97c \uc6d0\uc790\uc801\uc73c\ub85c \uad6c\uc131\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \ub610\ud55c \uc774\ub97c \uc704\ud574 \uc5ec\ub7ec \uba54\uc11c\ub4dc\ub4f1\uc774 \ub4f1\uc7a5\ud588\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc608\ub97c \ub4e4\uc5b4 ",(0,l.kt)("inlineCode",{parentName:"p"},"Map"),"\uc758 ",(0,l.kt)("inlineCode",{parentName:"p"},"putIfAbsent(key, value)")," \uba54\uc11c\ub4dc\uac00 \ub300\ud45c\uc801\uc778 \uc5d0\uc2dc\ub85c \ud0a4\uac00 \uc5c6\ub294 \uacbd\uc6b0 \ub9e4\ud551\uc744 \uc0bd\uc785\ud569\ub2c8\ub2e4. \uae30\uc874 \uac12\uc774 \uc788\uc73c\uba74 \uadf8 \uac12\uc744 \ubc18\ud658\ud558\uace0 \uc5c6\ub294 \uacbd\uc6b0\uc5d0\ub294 null\uc744 \ubc18\ud658\ud558\uba70, String\uc758 ",(0,l.kt)("inlineCode",{parentName:"p"},"intern")," \uba54\uc11c\ub4dc\ub97c \uc544\ub798\ucc98\ub7fc \ud749\ub0b4\ub0bc \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"private static final ConcurrentMap<String, String> map =\n  new ConcurrentHashMap<>();\n\npublic static String intern(String s) {\n  String result = map.get(s);\n  if (result == null) {\n    result = map.putIfAbsent(s, s);\n    if (result == null)\n      result = s;\n  }\n  return result;\n}\n")),(0,l.kt)("p",null,"\ub3d9\uae30\ud654\ub41c \uceec\ub809\uc158\ubcf4\ub2e4\ub294 \ub3d9\uc2dc\uc131 \ucf08\ub825\uc158\uc744 \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uc131\ub2a5\uc5d0 \uc88b\uc2b5\ub2c8\ub2e4. (Collections\uc758 ",(0,l.kt)("inlineCode",{parentName:"p"},"synchronizedMap")," \ubcf4\ub2e4\ub294 ",(0,l.kt)("inlineCode",{parentName:"p"},"ConcurrentHashMap"),"\uc744 \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uc911\uc694\ud569\ub2c8\ub2e4.)"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Synchronizers"),"\ub97c \ud1b5\ud558\uba74, \uc2a4\ub808\ub4dc\uac00 \ub2e4\ub978 \uc2a4\ub808\ub4dc\ub97c \uae30\ub2e4\ub9b4 \uc218 \uc788\uac8c \ud574\uc11c \uc11c\ub85c\uc758 task\ub97c \uc870\uc728\ud560 \uc218 \uc788\ub3c4\ub85d \ud574\uc90d\ub2c8\ub2e4. \ub300\ud45c\uc801\uc73c\ub85c\ub294 ",(0,l.kt)("inlineCode",{parentName:"p"},"CountDownLatch"),"\uc640 ",(0,l.kt)("inlineCode",{parentName:"p"},"Semaphore"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"CyclicBarrier"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"Exchanger"),"\ub4f1\uc774 \uc788\uc2b5\ub2c8\ub2e4. \uadf8\uc678\uc5d0\ub3c4 \uac15\ub825\ud55c ",(0,l.kt)("inlineCode",{parentName:"p"},"Phaser"),"\uac00 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"CountDownLatch"),"\ub294 \ud558\ub098 \uc774\uc0c1\uc758 \uc2a4\ub808\ub4dc\uac00 \ub610 \ub2e4\ub978 \ud558\ub098 \uc774\uc0c1\uc758 \uc2a4\ub808\ub4dc \uc791\uc5c5\uc774 \ub05d\ub0a0\ub54c\uae4c\uc9c0 \uae30\ub2e4\ub9bd\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"// \ub3d9\uc2dc \uc2e4\ud589\uc744 \uc704\ud55c \uac04\ub2e8\ud55c \ud504\ub808\uc784 \uc6cc\ud06c\npublic static long time(Executor executor, int concurrency,\n    Runnable action) throws InterruptedException {\n  CountDownLatch ready = new CountDownLatch(concurrency);\n  CountDownLatch start = new CountDownLatch(1);\n  CountDownLatch done  = new CountDownLatch(concurrency);\n\n  for (int i = 0; i < concurrency; i++) {\n    executor.execute(() -> {\n      ready.countDown(); // Tell timer we're ready\n      try {\n        start.await(); // Wait till peers are ready\n        action.run();\n      } catch (InterruptedException e) {\n        Thread.currentThread().interrupt();\n      } finally {\n        done.countDown();  // Tell timer we're done\n      }\n    });\n  }\n\n  ready.await();     // Wait for all workers to be ready\n  long startNanos = System.nanoTime();\n  start.countDown(); // And they're off!\n  done.await();      // Wait for all workers to finish\n  return System.nanoTime() - startNanos;\n}\n")),(0,l.kt)("p",null,"\uc704 \ucf54\ub4dc\uc5d0\uc11c \uc2e4\ud589\uc790\ub294 concurrency\ub85c \uc9c0\uc815\ud55c \uac12 \ub9cc\ud07c \uc2a4\ub808\ub4dc\ub97c \uc0dd\uc131\ud560 \uc218 \uc788\uc5b4\uc57c\ud569\ub2c8\ub2e4. \uadf8\ub807\uc9c0 \uc54a\uc73c\uba74 \uba54\uc2a4\ub4dc \uc218\ud589\uc774 \ub05d\ub098\uc9c0 \uc54a\ub294\ub370 \uc774\ub97c \uc2a4\ub808\ub4dc \uae30\uc544 \uad50\ucc29 \uc0c1\ud0dc\ub77c\uace0 \ud569\ub2c8\ub2e4. \ub610, \uc2dc\uac04\uc744 \uc7b4 \ub54c\ub294 ",(0,l.kt)("inlineCode",{parentName:"p"},"System.currentTimeMillis"),"\ubcf4\ub2e4\ub294 \uc2dc\uc2a4\ud15c \uc2dc\uac04\uacfc \ubb34\uad00\ud55c ",(0,l.kt)("inlineCode",{parentName:"p"},"System.nanoTime"),"\uc744 \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc0c8\ub85c\uc6b4 \ucf54\ub4dc\ub77c\uba74 ",(0,l.kt)("inlineCode",{parentName:"p"},"wait"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"notify"),"\uac00 \uc544\ub2cc \ub3d9\uc2dc\uc131 \uc720\ud2f8\ub9ac\ud2f0\ub97c \uc0ac\uc6a9\ud574\uc57c\ud569\ub2c8\ub2e4. \ud558\uc9c0\ub9cc, \uc774\ub97c \uc0ac\uc6a9\ud574\uc57c\ud558\ub294 \uc0c1\ud669\uc774\uba74 \ubc18\ub4dc\uc2dc ",(0,l.kt)("strong",{parentName:"p"},"\ub3d9\uae30\ud654 \uc601\uc5ed \uc548\uc5d0\uc11c\ub9cc \uc0ac\uc6a9\ud574\uc57c\ud558\uba70, \ud56d\uc0c1 \ubc18\ubcf5\ubb38 \uc548\uc5d0\uc11c \uc0ac\uc6a9\ud574\uc57c\ud569\ub2c8\ub2e4.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"synchronized (obj) {\n  while ({\uc870\uac74\uc774 \ucda9\uc871\ub418\uc9c0 \uc54a\uc740 \uacbd\uc6b0})\n    obj.wait(); // (\ub77d \ub123\uc5b4\ub193\uace0, \uae68\uc5b4\ub098\uba74 \uc7a1\uc2b5\ub2c8\ub2e4.)\n  ... // \uc870\uac74\uc774 \ucda9\uc871\ub410\uc744 \ub54c\uc758 \ub3d9\uc791\uc744 \uc218\ud589\ud569\ub2c8\ub2e4.\n}\n")),(0,l.kt)("p",null,"\uc774\ub7ec\ud55c \ubc18\ubcf5\ubb38\uc740 ",(0,l.kt)("inlineCode",{parentName:"p"},"wait")," \ud638\ucd9c \uc804\ud6c4\ub85c \uc870\uac74\uc774 \ub9cc\uc871\ud558\ub294 \uc9c0\ub97c \uac80\uc0ac\ud558\ub294 \uc5ed\ud560\uc744 \ud569\ub2c8\ub2e4. \ub300\uae30\uc804\uc5d0 \uc870\uac74\uc744 \uac80\uc0ac\ud558\uc5ec, \uc870\uac74\uc774 \ucda9\uc871\ub418\uc5c8\ub2e4\uba74 ",(0,l.kt)("inlineCode",{parentName:"p"},"wait"),"\ub97c \uac74\ub108\ub6f0\uac8c \ud558\ub294 \uac83\uc740 ",(0,l.kt)("strong",{parentName:"p"},"\uc751\ub2f5 \ubd88\uac00")," \uc0c1\ud0dc\ub97c \uc608\ubc29\ud558\ub294 \uac83\uc785\ub2c8\ub2e4. \uc870\uac74\uc774 \ucda9\uc871\ub418\uc5c8\ub294\ub370 \uc2a4\ub808\ub4dc\uac00 ",(0,l.kt)("inlineCode",{parentName:"p"},"notify"),"\ub098 ",(0,l.kt)("inlineCode",{parentName:"p"},"notifyAll")," \uba54\uc11c\ub4dc\ub85c \uba3c\uc800 \ud638\ucd9c\ud55c \uacbd\uc6b0 \ub300\uae30 \uc0c1\ud0dc\ub85c \ube60\uc9c0\uba74 \uadf8 \uc2a4\ub808\ub4dc\ub97c \ub2e4\uc2dc \uae68\uc6b0\uc9c0 \ubabb\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ud55c\ud3b8 \ub300\uae30 \ud6c4\uc5d0 \uc870\uac74\uc744 \uac80\uc0ac\ud558\uc5ec \uc870\uac74\uc744 \ucda9\uc871\ud558\uc9c0 \uc54a\uc558\uc744 \ub54c \ub2e4\uc2dc \ub300\uae30\ud558\uac8c \ud558\ub294 \uac83\uc740 \uc798\ubabb\ub41c \uac12\uc744 \uacc4\uc0b0\ud558\ub294 ",(0,l.kt)("strong",{parentName:"p"},"\uc548\uc804 \uc2e4\ud328"),"\ub97c \ub9c9\uae30 \uc704\ud55c \uc870\uce58\uc785\ub2c8\ub2e4. \uadf8\ub7f0\ub370 \uc870\uac74\uc774 \ub9cc\uc871\ub418\uc9c0 \uc54a\uc544\ub3c4 \uc2a4\ub808\ub4dc\uac00 \uae68\uc5b4\ub0a0\uc218 \uc788\ub294 \uc0c1\ud669\uc774 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"notify"),"\ub97c \ud638\ucd9c\ud558\uc5ec \ub300\uae30 \uc911\uc778 \uc2a4\ub808\ub4dc\uac00 \uae68\uc5b4\ub098\ub294 \uc0ac\uc774\uc5d0 \ub2e4\ub978 \uc2a4\ub808\ub4dc\uac00 \ub77d\uc744 \uac70\ub294 \uacbd\uc6b0"),(0,l.kt)("li",{parentName:"ul"},"\uc870\uac74\uc774 \ub9cc\uc871\ub418\uc9c0 \uc54a\uc558\uc73c\ub098 \uc2e4\uc218 \ud639\uc740 \uc545\uc758\uc801\uc73c\ub85c ",(0,l.kt)("inlineCode",{parentName:"li"},"notify"),"\ub97c \ud638\ucd9c\ud558\ub294 \uacbd\uc6b0"),(0,l.kt)("li",{parentName:"ul"},"\ub300\uae30 \uc911\uc778 \uc2a4\ub808\ub4dc \uc911 \uc77c\ubd80\ub9cc \uc870\uac74\uc744 \ucda9\uc871\ud574\ub3c4 ",(0,l.kt)("inlineCode",{parentName:"li"},"notifyAll"),"\ub85c \ubaa8\ub4e0 \uc2a4\ub808\ub4dc\ub97c \uae68\uc6b0\ub294 \uacbd\uc6b0"),(0,l.kt)("li",{parentName:"ul"},"\ub300\uae30 \uc911\uc778 \uc2a4\ub808\ub4dc\uac00 \ub4dc\ubb3c\uac8c ",(0,l.kt)("inlineCode",{parentName:"li"},"notify")," \uc5c6\uc774 \uae68\uc5b4\ub098\ub294 \uacbd\uc6b0, \ud5c8\uc704 \uac01\uc131(spurious wakeup)\uc774\ub77c\uace0 \ud569\ub2c8\ub2e4.")),(0,l.kt)("p",null,"\uc77c\ubc18\uc801\uc73c\ub85c\ub294 ",(0,l.kt)("inlineCode",{parentName:"p"},"notify"),"\ubcf4\ub2e4\ub294 ",(0,l.kt)("inlineCode",{parentName:"p"},"notifyAll"),"\uc744 \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uc548\uc804\ud558\uba70, ",(0,l.kt)("inlineCode",{parentName:"p"},"wait"),"\ub294 ",(0,l.kt)("inlineCode",{parentName:"p"},"while"),"\ubb38 \ub0b4\ubd80\uc5d0\uc11c \ud638\ucd9c\ud558\ub294 \uac83\uc774 \uc911\uc694\ud569\ub2c8\ub2e4."),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"item-82-\uc2a4\ub808\ub4dc-\uc548\uc804\uc131-\uc218\uc900\uc744-\ubb38\uc11c\ud654\ud569\ub2c8\ub2e4"},"Item 82. \uc2a4\ub808\ub4dc \uc548\uc804\uc131 \uc218\uc900\uc744 \ubb38\uc11c\ud654\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ubb38\uc11c\uc5d0\uc11c synchronized \uc218\uc815\uc790\ub97c \ucc3e\uc544\uc11c, \uba54\uc11c\ub4dc\uac00 \uc2a4\ub808\ub4dc\ub85c\ubd80\ud130 \uc548\uc804\ud55c\uc9c0 \uc54c \uc218 \uc788\ub2e4\ub294 \ub9d0\uc744 \ub4e4\uc744 \uc218 \uc788\ub294\ub370 \uc774\ub294 \uaf2d \ub9de\ub294 \ub9d0\uc740 \uc544\ub2d9\ub2c8\ub2e4. \uc2a4\ub808\ub4dc \uc548\uc804\uc131\uc5d0\uc11c\ub3c4 \uc5b4\ub290 \uc815\ub3c4\uc758 \uc218\uc900\uc778\uc9c0 \ub098\ub258\ubbc0\ub85c \uba40\ud2f0\uc2a4\ub808\ub4dc \ud658\uacbd\uc5d0\uc11c\ub3c4 \uc548\uc804\ud558\uac8c \uc0ac\uc6a9\ud558\ub824\uba74 \uc9c0\uc6d0\ud558\ub294 \uc2a4\ub808\ub4dc \uc548\uc804\uc131 \uc218\uc900\uc744 \uba85\uc2dc\ud574\uc57c\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc2a4\ub808\ub4dc\uc758 \uc548\uc804\uc131 \uc218\uc900\uc744 \ub192\uc740 \uc21c\uc11c\ub300\ub85c \ubcf4\uba74 \uc544\ub798\uc640 \uac19\uc2b5\ub2c8\ub2e4."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Immutable (\ubcc0\uacbd \ubd88\uac00\ub2a5)",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\ud574\ub2f9 \ud074\ub798\uc2a4\uc758 \uc778\uc2a4\ud134\uc2a4\ub294 \ub9c8\uce58 \uc0c1\uc218\uc640 \ube44\uc2b7\ud558\uae30\uc5d0 \uc678\ubd80 \ub3d9\uae30\ud654\uac00 \ud544\uc694\uc5c6\uc2b5\ub2c8\ub2e4."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"String"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"Long"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"BigInteger")))),(0,l.kt)("li",{parentName:"ul"},"Unconditionally thread-safe (\ubb34\uc870\uac74\uc801\uc778 \uc2a4\ub808\ub4dc \uc548\uc804)",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\ud574\ub2f9 \ud074\ub798\uc2a4\uc758 \uc778\uc2a4\ud134\uc2a4\ub294 \uc218\uc815\ub420 \uc218 \uc788\uc9c0\ub9cc \ub0b4\ubd80\uc5d0\uc11c\ub3c4 \ub3d9\uae30\ud654\ub418\uc5b4 \uc788\uc5b4, \ubcc4\ub3c4\uc758 \uc678\ubd80 \ub3d9\uae30\ud654 \uc5c6\uc774 \uc0ac\uc6a9\ud574\ub3c4 \uc548\uc804\ud569\ub2c8\ub2e4."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"AtomicLong"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"ConcurrentHashMap")))),(0,l.kt)("li",{parentName:"ul"},"Conditionally thread-safe (\uc870\uac74\ubd80 \uc2a4\ub808\ub4dc \uc548\uc804)",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\ubb34\uc870\uac74\uc801\uc778 \uc2a4\ub808\ub4dc \uc548\uc804\uc131\uacfc \ube44\uc2b7\ud558\uc9c0\ub9cc \uc77c\ubd80 \uba54\uc11c\ub4dc\ub294 \ub3d9\uc2dc\uc5d0 \uc0ac\uc6a9\ud558\ub824\uba74 \uc678\ubd80 \ub3d9\uae30\ud654\uac00 \ud544\uc694\ud569\ub2c8\ub2e4."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Collection.synchronized")," \ub798\ud37c \uba54\uc11c\ub4dc\uac00 \ubc18\ud658\ud55c \uceec\ub809\uc158"))),(0,l.kt)("li",{parentName:"ul"},"Not thread-safe (\uc2a4\ub808\ub4dc\ub85c\ubd80\ud130 \uc548\uc804\ud558\uc9c0 \uc54a\uc74c)",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\ud574\ub2f9 \ud074\ub798\uc2a4\uc758 \uc778\uc2a4\ud134\uc2a4\ub294 \uc218\uc815\ub420 \uc218 \uc788\uc73c\uba70 \ub3d9\uc2dc\uc5d0 \uc0ac\uc6a9\ud558\ub824\uba74 \uac01\uac01\uc758 \uba54\uc11c\ub4dc \ud638\ucd9c\uc744 \ud074\ub77c\uc774\uc5b8\ud2b8\uac00 \uc120\ud0dd\ud55c \uc678\ubd80 \ub3d9\uae30\ud654 \ub85c\uc9c1\uc73c\ub85c \uac10\uc2f8\uc57c\ud569\ub2c8\ub2e4."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ArrayList"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"HashMap")))),(0,l.kt)("li",{parentName:"ul"},"Thread-hostile (\uc2a4\ub808\ub4dc\uc640 \uc801\ub300\uc801)",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\uc678\ubd80 \ub3d9\uae30\ud654\ub97c \uc0ac\uc6a9\ud558\ub354\ub77c\ub3c4, \uba40\ud2f0\uc2a4\ub808\ub4dc \ud658\uacbd\uc5d0\uc11c \uc548\uc804\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),(0,l.kt)("li",{parentName:"ul"},"\uc77c\ubc18\uc800\uae0d\ub85c \ub3d9\uc2dc\uc131\uc744 \uace0\ub824\ud558\uc9c0 \uc54a\ub294 \ud074\ub798\uc2a4\uc785\ub2c8\ub2e4.")))),(0,l.kt)("p",null,"\ub530\ub77c\uc11c \ub3d9\uae30\ud654\uc5d0 \ub300\ud55c \ubb38\uc11c\ud654\ub294 \ud544\uc694\ud569\ub2c8\ub2e4. \uc870\uac74\ubd80 \uc2a4\ub808\ub4dc\uc5d0 \uc548\uc804\ud55c \ud074\ub798\uc2a4\ub294 \uc8fc\uc758\ud574\uc11c \ubb38\uc11c\ud654\ud574\uc57c\ud569\ub2c8\ub2e4. \uc5b4\ub5a0\ud55c \uc21c\uc11c\ub85c \ud638\ucd9c\ud560 \ub54c, \uc678\ubd80 \ub3d9\uae30\ud654 \ub85c\uc9c1\uc774 \ud544\uc694\ud55c\uc9c0 \uadf8\ub9ac\uace0 \uadf8 \uc21c\uc11c\ub300\ub85c \ud638\ucd9c\uc2dc \uc5b4\ub5a4 \ub77d\uc744 \uc5bb\uc5b4\uc57c\ud558\ub294\uc9c0\ub97c \uc791\uc131\ud574\uc57c\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Collections.synchronizedMap"),"\uc758 API \ubb38\uc11c\ub294 \uc544\ub798\uc640 \uac19\uc2b5\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"Map <K, V> m = Collections.synchronizedMap (new HashMap <> ());\nSet <K> s = m.keySet (); // \ub3d9\uae30\ud654 \ub41c \ube14\ub85d\uc5d0\uc788\uc744 \ud544\uc694\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.\n\n...\n\nsynchronous (m) {// s\uac00 \uc544\ub2cc m\uc5d0\uc11c \ub3d9\uae30\ud654 \uc911\uc785\ub2c8\ub2e4!\n  for (K key : s)\n    key.f ();\n}\n")),(0,l.kt)("p",null,"\ubc18\ud658 \ud0c0\uc785\ub9cc\uc73c\ub85c \uc54c\uc218 \uc5c6\ub294 \uacbd\uc6b0, \uac1d\uccb4\uc5d0 \ub300\ud55c \uc2a4\ub808\ub4dc \uc548\uc804\uc131\uc744 \ubb38\uc11c\ud654\ud574\uc57c\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc678\ubd80\uc5d0 \uacf5\uac1c\ub41c \ub77d(Lock)\uc744 \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0, \uc720\uc5f0\ud55c \ucf54\ub4dc\ub97c \ub9cc\ub4e4 \uc218 \uc788\uc9c0\ub9cc \uadf8\ub9cc\ud55c \ub300\uac00\uac00 \ub530\ub985\ub2c8\ub2e4. \ud074\ub77c\uc774\uc5b8\ud2b8\uac00 \uacf5\uac1c\ub41c \ub77d\uc744 \ud1b5\ud574 \uc11c\ube44\uc2a4 \uac70\ubd80 \uacf5\uaca9(denial-of-service attack)\uc744 \uc218\ud589\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub97c \ubc29\uc9c0\ud558\ub824\uba74 \ube44\uacf5\uac8c \ub77d \uac1d\uccb4\ub97c \uc0ac\uc6a9\ud574\uc57c\ud569\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"// Private lock \uac1d\uccb4 \uad00\uc6a9\uad6c-\uc11c\ube44\uc2a4 \uac70\ubd80 \uacf5\uaca9\uc744 \ub9c9\uc2b5\ub2c8\ub2e4.\nprivate final Object lock = new Object ();\n\npublic void foo() {\n  synchronized(lock) {\n    ...\n  }\n}\n")),(0,l.kt)("p",null,"\uc5ec\uae30\uc11c lock \uba64\ubc84\ub97c final\ub85c \uc120\uc5b8\ud55c \uc774\uc720 \uc911 \ud558\ub098\ub294 \uc6b0\uc5f0\ud788 \ub77d \uac1d\uccb4\uac00 \uad50\uccb4\ub418\ub294 \uc0c1\ud669\uc744 \ubc29\uc9c0\ud569\ub2c8\ub2e4. \uc77c\ubc18\uc801\uc778 \ub77d\uc774\ub098 ",(0,l.kt)("inlineCode",{parentName:"p"},"java.util.concurrent.locks")," \ud328\ud0a4\uc9c0\uc5d0\uc11c \uac00\uc838\uc628 \ub77d\uc774 \ub3d9\uc77c\ud569\ub2c8\ub2e4. \uc774\uc640 \uac19\uc774 \uad6c\uc131\ud558\uba74\uc11c \ud558\uc704 \ud074\ub798\uc2a4\uc5d0\uc11c \ub3d9\ub07c\ud654 \ub85c\uc9c1\uc744 \uae68\ub294 \uac83\uc744 \uc608\ubc29\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ubaa8\ub4e0 \ud074\ub798\uc2a4\ub294 \uc2e0\uc911\ud558\uac8c \ud45c\ud604\ub41c \uc124\uba85\uc774\ub098 \uc2a4\ub808\u3137 \uc548\uc804\uc131 \uc5b4\ub178\ud14c\uc774\uc158\uc744 \ud1b5\ud574\uc11c \uc2a4\ub808\ub4dc\uc758 \uc548\uc804\uc131\uc744 \uba85\ud655\ud558\uac8c \ubb38\uc11c\ud654\ud574\uc57c\ud569\ub2c8\ub2e4. \uc870\uac74\ubd80 \uc2a4\ub808\ub4dc\ub098, \uc2a4\ub808\ub4dc\uc5d0 \uc548\uc804\ud55c \ucf00\uc774\uc2a4 \ubaa8\ub450 lock\uc744 \ubb38\uc11c\ud654\ud574\uc57c\ud558\uace0, ",(0,l.kt)("inlineCode",{parentName:"p"},"private final lock"),"\uc744 \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"item-83-\uc9c0\uc5f0-\ucd08\uae30\ud654\ub294-\uc2e0\uc911\ud788-\uc0ac\uc6a9\ud569\ub2c8\ub2e4"},"Item 83. \uc9c0\uc5f0 \ucd08\uae30\ud654\ub294 \uc2e0\uc911\ud788 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Lazy initialization(\uc9c0\uc5f0 \ucd08\uae30\ud654)"),"\ub294 \uac12\uc774 \ud544\uc694\ud560 \ub54c\uae4c\uc9c0 \ud544\ub4dc \ucd08\uae30\ud654\ub97c \uc9c0\uc5f0\ud558\ub294 \ud589\ub3d9\uc785\ub2c8\ub2e4. \uc9c0\uc5f0 \ucd08\uae30\ud654\ub294 \uc8fc\ub85c \ucd5c\uc801\ud654\uc774\uc9c0\ub9cc, \ud074\ub798\uc2a4 \ubc0f \uc778\uc2a4\ud134\uc2a4 \ucd08\uae30\ud654\uc5d0\uc11c \uc720\ud574\ud55c \uc21c\ud658\uc131\uc744 \uae68\ub294\ub370 \uc0ac\uc6a9\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc9c0\uc5f0 \ucd08\uae30\ud654\ub294 \uc77c\uc885\uc758 \uc591\ub0a0\uc758 \uac80\uc774\uae30 \ub54c\ubb38\uc5d0 \ud544\uc694\ud558\uc9c0 \uc54a\uc73c\uba74 \uc218\ud589\ud558\uc9c0 \uc54a\ub294 \uac83\uc774 \uc911\uc694\ud569\ub2c8\ub2e4. \uc9c0\uc5f0 \ucd08\uae30\ud654\ub41c \ud544\ub4dc\uc5d0 \uc561\uc138\uc2a4\ud558\ub294 \ube44\uc6a9\uc744 \uc99d\uac00\uc2dc\ud0a4\uba74\uc11c \ud074\ub798\uc2a4 \ucd08\uae30\ud654 \ub610\ub294 \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131 \ube44\uc6a9\uc744 \uc904\uc785\ub2c8\ub2e4. \ub530\ub77c\uc11c \ucd08\uae30\ud654\ub41c \ud544\ub4dc\uc5d0 \uc790\uc8fc \uc561\uc138\uc2a4\ud558\ub294\uc9c0\uc5d0 \ub530\ub77c \uc131\ub2a5\uc744 \uc800\ud558\uc2dc\ud0ac \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ub300\ubd80\ubd84\uc758 \uacbd\uc6b0\uc5d0 \uc9c0\uc5f0 \ucd08\uae30\ud654\ubcf4\ub2e4\ub294 \uc815\uc0c1\uc801\uc778 \ucd08\uae30\ud654\uac00 \uc88b\uc2b5\ub2c8\ub2e4. \ud2b9\ud788, \uc5ec\ub7ec \uc2a4\ub808\ub4dc\uac00 \uc788\ub294 \uacbd\uc6b0\uc5d0\ub294 \uc9c0\uc5f0 \ucd08\uae30\ud654\uac00 \uae4c\ub2e4\ub86d\uc2b5\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"// \uc778\uc2a4\ud134\uc2a4 \ud544\ub4dc\uc758 \uc77c\ubc18 \ucd08\uae30\ud654\nprivate final FieldType field = computeFieldValue();\n")),(0,l.kt)("p",null,"\uc9c0\uc5f0 \ucd08\uae30\ud654\uac00 \ucd08\uae30\ud654\uc758 \uc21c\ud658\uc131\uc744 \uae70 \uac83 \uac19\uc73c\uba74 ",(0,l.kt)("inlineCode",{parentName:"p"},"synchronized"),"\ub97c \ub2e8 \uc811\uadfc\uc790\ub97c \uc774\uc6a9\ud558\ub294 \uac83\uc774 \uc911\uc694\ud569\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"// Lazy initialization of instance field - synchronized accessor\nprivate FieldType field;\n\nprivate synchronized FieldType getField() {\n  if (field == null)\n    field = computeFieldValue();\n  return field;\n}\n")),(0,l.kt)("p",null,"\uc131\ub2a5 \ub54c\ubb38\uc5d0 \uc815\uc801 \ud544\ub4dc\ub97c \ucd08\uae30\ud654\ud574\uc57c \ud55c\ub2e4\uba74, ",(0,l.kt)("strong",{parentName:"p"},"\uc9c0\uc5f0 \ucd08\uae30\ud654 \ud640\ub354 \ud074\ub798\uc2a4"),"\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"private static class FieldHolder {\n  static final FieldType field = computeFieldValue();\n}\n\nprivate static FieldType getField() {\n  return FieldHolder.field;\n}\n")),(0,l.kt)("p",null,"\uc131\ub2a5\uc744 \uc704\ud574 \uc778\uc2a4\ud134\uc2a4 \ud544\ub4dc\ub97c \uc9c0\uc5f0 \ucd08\uae30\ud654\ud574\uc57c\ud558\ub294 \uacbd\uc6b0, ",(0,l.kt)("strong",{parentName:"p"},"double-check(\uc774\uc911\uac80\uc0ac)")," \uad00\uc6a9\uad6c\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"// \ubc18\ub4dc\uc2dc volatile \ub85c \uc120\uc5b8\nprivate volatile FieldType field;\n\nprivate FieldType getField() {\n  FieldType result = field;\n  if (result != null) // \uccab \ubc88\uc9f8 \uac80\uc0ac(\ub77d \uc0ac\uc6a9 \uc548\ud568)\n    return result;\n\n  synchronized(This) {\n    if (field == null) // \ub450 \ubc88\uc9f8 \uac80\uc0ac(\ub77d \uc0ac\uc6a9)\n      field = computeFieldValue();\n    return field;\n  }\n}\n")),(0,l.kt)("p",null,"\ubc18\ubcf5\ud574\uc11c \ucd08\uae30\ud654\ud574\ub3c4 \uc0c1\uad00 \uc5c6\ub294 \uc778\uc2a4\ud134\uc2a4 \ud544\ub4dc\ub97c \uc9c0\uc5f0 \ucd08\uae30\ud654\ud560 \ub54c\uac00 \uc788\ub294\ub370 \uc774\ub97c \ub54c\ub294 \ub450 \ubc88\uc9f8 \uac80\uc0ac\ub97c \uc0dd\ub7b5\ud574\ub3c4 \ub429\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"// \ubc18\ub4dc\uc2dc volatile \ub85c \uc120\uc5b8\nprivate volatile FieldType field;\n\nprivate FieldType getField() {\n  FieldType result = field;\n  if (result == null)\n    field = result = computeFieldValue();\n  return result;\n}\n")),(0,l.kt)("p",null,"\ub9cc\uc5ed field \ud0c0\uc785\uc774 ",(0,l.kt)("inlineCode",{parentName:"p"},"long"),"\uc774\ub098 ",(0,l.kt)("inlineCode",{parentName:"p"},"double"),"\uc774 \uc544\ub2cc \ub2e4\ub978 \uae30\ubcf8 \ud0c0\uc785\uc774\uba74 \ub2e8\uc77c \uac80\uc0ac\uc758 \ud544\ub4dc \uc120\uc5b8\uc5d0\uc11c ",(0,l.kt)("inlineCode",{parentName:"p"},"volatile"),"\uc744 \uc5c6\uc568 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc774\ub97c \uc694\uc57d\ud558\uba74 ",(0,l.kt)("strong",{parentName:"p"},"\ub300\ubd80\ubd84\uc758 \ud544\ub4dc\ub97c \uc9c0\uc5f0\uc774 \uc544\ub2c8\ub77c \uc815\uc0c1\uc801\uc73c\ub85c \ucd08\uae30\ud654\ud574\uc57c\ud569\ub2c8\ub2e4"),". \uc131\ub2a5\uc744 \uc704\ud558\uac70\ub098 \uc720\ud574\ud55c \ucd08\uae30\ud654 \uc21c\ud658\uc131\uc744 \uae68\uae30 \uc704\ud574 \ud544\ub4dc\ub97c \ub290\ub9ac\uac8c \ucd08\uae30\ud654\ud574\uc57c\ud558\ub294 \uacbd\uc6b0, \uc9c0\uc5f0 \ucd08\uae30\ud654 \uae30\uc220\uc744 \uc0ac\uc6a9\ud574\uc57c\ud569\ub2c8\ub2e4."),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"item-84-\ud504\ub85c\uadf8\ub7a8\uc758-\ub3d9\uc791\uc744-\uc2a4\ub808\ub4dc-\uc2a4\ucf00\uc904\ub7ec\uc5d0-\uc758\uc874\ud558\uc9c0-\uc54a\uc2b5\ub2c8\ub2e4"},"Item 84. \ud504\ub85c\uadf8\ub7a8\uc758 \ub3d9\uc791\uc744 \uc2a4\ub808\ub4dc \uc2a4\ucf00\uc904\ub7ec\uc5d0 \uc758\uc874\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),(0,l.kt)("h3",{id:"\uc2a4\ub808\ub4dc-\uc2a4\ucf00\uc904\ub7ec\uc5d0-\uc758\uc874\ud558\uba74-\uc548\ub429\ub2c8\ub2e4"},"\uc2a4\ub808\ub4dc \uc2a4\ucf00\uc904\ub7ec\uc5d0 \uc758\uc874\ud558\uba74 \uc548\ub429\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ub9ce\uc740 \uc2a4\ub808\ub4dc\uac00 \uc2e4\ud589 \uac00\ub2a5\ud560 \ub54c \uc2a4\ub808\ub4dc \uc2a4\ucf00\uc904\ub7ec\ub294 \uc2e4\ud589\ud560 \uc2a4\ub808\ub4dc\uc640 \uc2dc\uac04\uc744 \uacb0\uc815\ud569\ub2c8\ub2e4. \ud569\ub9ac\uc801\uc778 \uc6b4\uc601 \uccb4\uc81c\ub77c\uba74 \uacb0\uc815\uc744 \uacf5\uc815\ud558\uac8c \ud560\ub824\uace0 \ud558\uc9c0\ub9cc \uc815\ucc45\uc740 \ub2e4\ub97c \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub530\ub77c\uc11c \uc798 \uc791\uc131\ub41c \ud504\ub85c\uadf8\ub7a8\uc740 \uc774 \uc815\ucc45\uc758 \uc138\ubd80 \uc0ac\ud56d\uc5d0 \uc758\uc874\ud558\uba74 \uc548\ub429\ub2c8\ub2e4. \uc989, ",(0,l.kt)("strong",{parentName:"p"},"\uc815\ud655\uc131\uc774\ub098 \uc131\ub2a5\uc744 \uc704\ud574 \uc2a4\ub808\ub4dc \uc2a4\ud018\uc904\ub7ec\uc5d0 \uc758\uc874\ud558\ub294 \ud504\ub85c\uadf8\ub7a8\uc740 \uc774\uc2dd\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")),(0,l.kt)("h3",{id:"\uc131\ub2a5\uacfc-\uc774\uc2dd\uc131\uc774-\uc88b\uc740-\ud504\ub85c\uadf8\ub7a8\uc744-\uc791\uc131\ud569\ub2c8\ub2e4"},"\uc131\ub2a5\uacfc \uc774\uc2dd\uc131\uc774 \uc88b\uc740 \ud504\ub85c\uadf8\ub7a8\uc744 \uc791\uc131\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc2e4\ud589 \uac00\ub2a5\ud55c \uc2a4\ub808\ub4dc\uc758 \ud3c9\uade0\uc801\uc778 \uc218\uac00 \ud504\ub85c\uc138\uc2a4\uc758 \uc218\ubcf4\ub2e4 \uacfc\ub3c4\ud558\uac8c \ub9ce\uc544\uc11c\ub294 \uc548\ub429\ub2c8\ub2e4. \uadf8\ub798\uc57c \uc2a4\ucf00\uc904\ub7ec\uc758 \uace0\ubbfc\uc774 \uc904\uc5b4\ub4ed\ub2c8\ub2e4. \uc2e4\ud589 \uc900\ube44\uac00 \ub41c \uc2a4\ub808\ub4dc\ub4e4\uc740 \ub9e1\uc740 \uc791\uc5c5\uc774 \ub05d\ub0bc \ub54c\uae4c\uc9c0\uacc4\uc18d \uc2e4\ud589\ub418\ub3c4\ub85d \ub9cc\ub4e4\uc5b4\uc57c\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc2e4\ud589 \uac00\ub2a5\ud55c \uc2a4\ub808\ub4dc \uc218\ub97c \uc801\uac8c \uc720\uc9c0\ud558\ub824\uba74 \uac01 \uc2a4\ub808\ub4dc\uac00 \uc791\uc5c5\uc744 \uc644\ub8cc\ud55c \ud6c4 \ub2e4\uc74c \uc791\uc5c5\uc774 \uc0dd\uae38 \ub54c\uae4c\uc9c0 \ub300\uae30\ud558\ub3c4\ub85d \ud558\ub294 \uac83\uc785\ub2c8\ub2e4. \uc2a4\ub808\ub4dc\ub294 \ub2f9\uc7a5 \ucc98\ub9ac\ud574\uc57c \ud560 \uc791\uc5c5\uc774 \uc5c6\ub2e4\uba74 \uc2e4\ud589\ub418\uc11c\ub294 \uc548\ub429\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc608\ub97c \ub4e4\uc5b4 \uc2e4\ud589\uc790 \ud504\ub808\uc784\uc6cc\ud06c\uc758 \uacbd\uc6b0, \uc2a4\ub808\ub4dc \ud480\uc758 \ud06c\uae30\ub97c \uc801\uc808\ud788 \uc124\uc815\ud558\uace0 \uc791\uc5c5\uc744 \uc9e7\uac8c \uc720\uc9c0\ud558\uba74 \ub429\ub2c8\ub2e4. \ub2e4\ub9cc \ub108\ubb34 \uc791\uc73c\uba74 \uc131\ub2a5\uc774 \uc800\ud558\ub429\ub2c8\ub2e4."),(0,l.kt)("h3",{id:"\uc2a4\ub808\ub4dc\ub294-\uc808\ub300-busy-wait-\uc0c1\ud0dc\uac00-\ub418\uba74-\uc548\ub429\ub2c8\ub2e4"},"\uc2a4\ub808\ub4dc\ub294 \uc808\ub300 busy-wait \uc0c1\ud0dc\uac00 \ub418\uba74 \uc548\ub429\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uace0\uc720 \uac1d\uccb4\uc758 \uc0c1\ud0dc\uac00 \ubc14\ub014 \ub54c\uae4c\uc9c0 \uc26c\uc9c0 \uc54a\uace0 \uac80\uc0ac\ud574\uc11c\ub294 \uc548\ub429\ub2c8\ub2e4. \ubc14\uc05c \ub300\uae30(busy waiting) \uc0c1\ud0dc\ub294 \uc2a4\ub808\ub4dc \uc2a4\ucf00\uc904\ub7ec\uc758 \ubcc0\ub355\uc5d0 \ucde8\uc57d\ud558\uba70 \ud504\ub85c\uc138\uc11c\uc5d0 \ud070 \ubd80\ud558\ub97c \uc918\uc11c \ub2e4\ub978 \uc720\uc6a9\ud55c \uc791\uc5c5\uc758 \uc591\uc774 \uc904\uc5b4\ub4ed\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'// \ub054\ucc0d\ud55c CountDownLatch \uad6c\ud604 - busy-waits incessantly!\npublic class SlowCountDownLatch {\n  private int count;\n\n  public SlowCountDownLatch(int count) {\n    if (count < 0)\n      throw new IllegalArgumentException(count + " < 0");\n    this.count = count;\n  }\n\n  public void await() {\n    while (true) {\n      synchronized(this) {\n        if (count == 0)\n          return;\n      }\n    }\n  }\n\n  public synchronized void countDown() {\n    if (count != 0)\n      count--;\n  }\n}\n')),(0,l.kt)("p",null,"\uc704\uc758 \uc608\uc81c \ucf54\ub4dc\ub97c \uc218\ud589\ud558\ub2e4 \ubcf4\uba74, ",(0,l.kt)("inlineCode",{parentName:"p"},"concurrent")," \ud328\ud0a4\uc9d5 \uc788\ub294 ",(0,l.kt)("inlineCode",{parentName:"p"},"CountDownLatch"),"\ubcf4\ub2e4 \ud6e8\uc52c \ub354 \ub290\ub9b0 \uc18d\ub3c4\ub97c \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\uc640 \uac19\uc774 \ud558\ub098 \uc774\uc0c1\uc758 \uc2a4\ub808\ub4dc\uac00 \ud544\uc694\ub3c4 \uc5c6\uc774 \uc2e4\ud589 \uac00\ub2a5\ud55c \uc0c1\ud0dc\uc778 \uacbd\uc6b0 \uc131\ub2a5\uacfc \uc774\uc2dd\uc131\uc774 \uc800\ud558\ub429\ub2c8\ub2e4."),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Thread.yield"),"\ub294 \ub3d9\uc791\ud558\uc9c0 \uc54a\ub294 \uc2a4\ub808\ub4dc\uac00 \ub300\uae30 \uc0c1\ud0dc\uac00 \ub418\ub294 \ub4f1 \ub2e4\ub978 \uc2a4\ub808\ub4dc\uc5d0\uac8c \uc2e4\ud589\uc744 \uc591\ubcf4\ud558\ub294 \uac83\uc744 \uc758\ubbf8\ud569\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \uc774 \uacbd\uc6b0 \ud2b9\uc815 \uc2a4\ub808\ub4dc\uac00 cpu\ub97c \ud560\ub2f9\ubc1b\uc9c0 \ubabb\ud574 \ub290\ub824\uc9c8 \uc218 \uc788\uc73c\ubbc0\ub85c ",(0,l.kt)("inlineCode",{parentName:"p"},"yield")," \uba54\uc11c\ub4dc\ub97c \uc4f0\ub294 \uac83\uc740 \ud53c\ud574\uc57c\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc774\ub7ec\ud55c \uacbd\uc6b0\ub294 \ud14c\uc2a4\ud2b8\ud560 \uc218\ub2e8\ub3c4 \uc5c6\uc73c\uba70 \uc131\ub2a5\uc774 \uc88b\uc544\uc9c0\ub354\ub77c\ub3c4 \uc774\uc2dd\uc131\uc740 \ub098\ube60\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ucc28\ub77c\ub9ac \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uad6c\uc870\ub97c \ubc14\uafd4 \ub3d9\uc2dc\uc5d0 \uc2e4\ud589 \uac00\ub2a5\ud55c \uc2a4\ub808\ub4dc\uc758 \uac1c\uc218\ub97c \uc801\uac8c \ub9cc\ub4dc\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4. \uc2a4\ub808\ub4dc \uc6b0\uc120 \uc21c\uc704\ub97c \uc870\uc808\ud558\ub294 \uac83\ub3c4 \uc704\ud5d8\ud569\ub2c8\ub2e4. (\uc774\ub294 \uc774\uc2dd\uc131\uc5d0\uc11c \uac00\uc7a5 \ub098\uc05c \ud2b9\uc131\uc785\ub2c8\ub2e4.)"))}d.isMDXComponent=!0}}]);