"use strict";(self.webpackChunktil=self.webpackChunktil||[]).push([[8522],{3905:function(e,r,t){t.d(r,{Zo:function(){return p},kt:function(){return m}});var n=t(7294);function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach((function(r){a(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function d(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var o=n.createContext({}),u=function(e){var r=n.useContext(o),t=r;return e&&(t="function"==typeof e?e(r):i(i({},r),e)),t},p=function(e){var r=u(e.components);return n.createElement(o.Provider,{value:r},e.children)},c={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},s=n.forwardRef((function(e,r){var t=e.components,a=e.mdxType,l=e.originalType,o=e.parentName,p=d(e,["components","mdxType","originalType","parentName"]),s=u(t),m=a,k=s["".concat(o,".").concat(m)]||s[m]||c[m]||l;return t?n.createElement(k,i(i({ref:r},p),{},{components:t})):n.createElement(k,i({ref:r},p))}));function m(e,r){var t=arguments,a=r&&r.mdxType;if("string"==typeof e||a){var l=t.length,i=new Array(l);i[0]=s;var d={};for(var o in r)hasOwnProperty.call(r,o)&&(d[o]=r[o]);d.originalType=e,d.mdxType="string"==typeof e?e:a,i[1]=d;for(var u=2;u<l;u++)i[u]=t[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}s.displayName="MDXCreateElement"},9216:function(e,r,t){t.r(r),t.d(r,{default:function(){return p},frontMatter:function(){return i},metadata:function(){return d},toc:function(){return o}});var n=t(7462),a=t(3366),l=(t(7294),t(3905)),i={sidebar_position:5},d={unversionedId:"dev/ddd-start/ch5",id:"dev/ddd-start/ch5",isDocsHomePage:!1,title:"\ub9ac\ud3ec\uc9c0\ud130\ub9ac\uc758 \uc870\ud68c \uae30\ub2a5(JPA \uc911\uc2ec)",description:"\uac80\uc0c9\uc744 \uc704\ud55c \uc2a4\ud329",source:"@site/docs/dev/ddd-start/ch5.md",sourceDirName:"dev/ddd-start",slug:"/dev/ddd-start/ch5",permalink:"/til/docs/dev/ddd-start/ch5",editUrl:"https://github.com/Azderica/til/edit/master/docs/dev/ddd-start/ch5.md",version:"current",lastUpdatedAt:1654518410,formattedLastUpdatedAt:"6/6/2022",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"4. \ub9ac\ud3ec\uc9c0\ud130\ub9ac\uc640 \ubaa8\ub378\uad6c\ud604 (JPA \uc911\uc2ec)",permalink:"/til/docs/dev/ddd-start/ch4"},next:{title:"6. \uc751\uc6a9 \uc11c\ube44\uc2a4\uc640 \ud45c\ud604 \uc601\uc5ed",permalink:"/til/docs/dev/ddd-start/ch6"}},o=[{value:"\uac80\uc0c9\uc744 \uc704\ud55c \uc2a4\ud329",id:"\uac80\uc0c9\uc744-\uc704\ud55c-\uc2a4\ud329",children:[{value:"\uc2a4\ud399 \uc870\ud569",id:"\uc2a4\ud399-\uc870\ud569",children:[]}]},{value:"JPA\ub97c \uc704\ud55c \uc2a4\ud399 \uad6c\ud604",id:"jpa\ub97c-\uc704\ud55c-\uc2a4\ud399-\uad6c\ud604",children:[{value:"JPA \uc2a4\ud399 \uad6c\ud604",id:"jpa-\uc2a4\ud399-\uad6c\ud604",children:[]},{value:"AND/OR \uc2a4\ud399 \uc870\ud569\uc744 \uc704\ud55c \uad6c\ud604",id:"andor-\uc2a4\ud399-\uc870\ud569\uc744-\uc704\ud55c-\uad6c\ud604",children:[]},{value:"\uc2a4\ud399\uc744 \uc0ac\uc6a9\ud558\ub294 JPA \ub9ac\ud3ec\uc9c0\ud130\ub9ac \uad6c\ud604",id:"\uc2a4\ud399\uc744-\uc0ac\uc6a9\ud558\ub294-jpa-\ub9ac\ud3ec\uc9c0\ud130\ub9ac-\uad6c\ud604",children:[]}]},{value:"\uc815\ub82c \uad6c\ud604",id:"\uc815\ub82c-\uad6c\ud604",children:[]},{value:"\ud398\uc774\uc9d5\uacfc \uac1c\uc218 \uad6c\ud558\uae30 \uad6c\ud604",id:"\ud398\uc774\uc9d5\uacfc-\uac1c\uc218-\uad6c\ud558\uae30-\uad6c\ud604",children:[]},{value:"\uc870\ud68c \uc804\uc6a9 \uae30\ub2a5 \uad6c\ud604",id:"\uc870\ud68c-\uc804\uc6a9-\uae30\ub2a5-\uad6c\ud604",children:[{value:"\ub3d9\uc801 \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131",id:"\ub3d9\uc801-\uc778\uc2a4\ud134\uc2a4-\uc0dd\uc131",children:[]},{value:"\ud558\uc774\ubc84\ub124\uc774\ud2b8 @Subselect \uc0ac\uc6a9",id:"\ud558\uc774\ubc84\ub124\uc774\ud2b8-subselect-\uc0ac\uc6a9",children:[]}]}],u={toc:o};function p(e){var r=e.components,t=(0,a.Z)(e,["components"]);return(0,l.kt)("wrapper",(0,n.Z)({},u,t,{components:r,mdxType:"MDXLayout"}),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"\uac80\uc0c9\uc744-\uc704\ud55c-\uc2a4\ud329"},"\uac80\uc0c9\uc744 \uc704\ud55c \uc2a4\ud329"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ub9ac\ud3ec\uc9c0\ud130\ub9ac\ub294 \uc560\uadf8\ub9ac\uac70\ud2b8\uc758 \uc800\uc7a5\uc18c\uc785\ub2c8\ub2e4."),(0,l.kt)("li",{parentName:"ul"},"\uc560\uadf8\ub9ac\uac70\ud2b8\ub97c \uc800\uc7a5\ud558\uace0 \ucc3e\uace0 \uc0ad\uc81c\ud558\ub294 \uac83\uc774 \ub9ac\ud3ec\uc9c0\ud130\ub9ac\uc758 \uae30\ubcf8 \uae30\ub2a5\uc785\ub2c8\ub2e4."),(0,l.kt)("li",{parentName:"ul"},"\uc2a4\ud399(Specification)\uc740 \uc560\uadf8\ub9ac\uac70\ud2b8\uac00 \ud2b9\uc815 \uc870\uac74\uc744 \ucda9\uc871\ud558\ub294\uc9c0 \uc5ec\ubd80\ub97c \uac80\uc0ac\ud569\ub2c8\ub2e4.")),(0,l.kt)("h3",{id:"\uc2a4\ud399-\uc870\ud569"},"\uc2a4\ud399 \uc870\ud569"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\uc2a4\ud399\uc758 \uc7a5\uc810\uc740 \uc870\ud569\uc5d0 \uc788\uc2b5\ub2c8\ub2e4.")),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"jpa\ub97c-\uc704\ud55c-\uc2a4\ud399-\uad6c\ud604"},"JPA\ub97c \uc704\ud55c \uc2a4\ud399 \uad6c\ud604"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ub9ac\ud3ec\uc9c0\ud130\ub9ac \ucf54\ub4dc\ub294 \ubaa8\ub4e0 \uc560\uadf8\ub9ac\uac70\ud2b8\ub97c \uc870\ud68c\ud55c \ub2e4\uc74c\uc5d0 \uc2a4\ud399\uc744 \uc774\uc6a9\ud574 \ubc29\uc2dd\uc744 \uc0ac\uc6a9\ud588\uc73c\ub098 \uc774\ub294 \uc131\ub2a5\uc744 \ub290\ub9ac\uac8c \ud569\ub2c8\ub2e4."),(0,l.kt)("li",{parentName:"ul"},"\uc2e4\uc81c \uad6c\ud604\uc5d0\uc11c\ub294 \ucffc\ub9ac\uc758 where \uc808\uc5d0 \uc870\uac74\uc744 \ubd99\uc5ec\uc11c \ud544\uc694\ud55c \ub370\uc774\ud130\ub97c \uac78\ub7ec\uc57c \ud569\ub2c8\ub2e4.")),(0,l.kt)("h3",{id:"jpa-\uc2a4\ud399-\uad6c\ud604"},"JPA \uc2a4\ud399 \uad6c\ud604"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\uc751\uc6a9 \uc11c\ube44\uc2a4\ub294 \uc6d0\ud558\ub294 \uc2a4\ud399\uc744 \uc0dd\uc131\ud558\uace0 \ub9ac\ud3ec\uc9c0\ud130\ub9ac\uc5d0 \uc804\ub2ec\ud574\uc11c \ud544\uc694\ud55c \uc560\uadf8\ub9ac\uac70\ud2b8\ub97c \uac80\uc0c9\ud558\uba74 \ub429\ub2c8\ub2e4.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'Specification<Order> ordererSpec = new OrdererSpec("madvirus");\nList<Order> orders = orderRepository.findAll(ordererSpec)\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\uc2a4\ud399 \uc0dd\uc131\uc774 \ud544\uc694\ud55c \ucf54\ub4dc\ub294 \uc2a4\ud399 \uc0dd\uc131 \uae30\ub2a5\uc744 \uc81c\uacf5\ud558\ub294 \ud074\ub798\uc2a4\ub97c\uc774\uc6a9\ud574\uc11c \uc870\uae08 \ub354 \uac04\uacb0\ud558\uac8c \uc2a4\ud399\uc744 \uc0dd\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"Specification<Order> betweenSpec = orderSpecs.between(fromTime, toTime);\n")),(0,l.kt)("h3",{id:"andor-\uc2a4\ud399-\uc870\ud569\uc744-\uc704\ud55c-\uad6c\ud604"},"AND/OR \uc2a4\ud399 \uc870\ud569\uc744 \uc704\ud55c \uad6c\ud604"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"AND\ub97c \uc704\ud55c JPA \uc2a4\ud399")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"...\nPredicate[] predicates = specs.stream()\n        .map(spec -> spec.toPredicate(root, cb))\n        .toArray(size -> new Predicate[size]);\nreturn cb.and(predicates);\n...\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"OR\uc744 \uc704\ud55c JPA \uc2a4\ud399")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"Predicate[] predicates = specs.stream()\n        .map(spec -> spec.toPredicate(root, cb))\n        .toArray(Predicate[]::new);\nreturn cb.or(predicates);\n")),(0,l.kt)("h3",{id:"\uc2a4\ud399\uc744-\uc0ac\uc6a9\ud558\ub294-jpa-\ub9ac\ud3ec\uc9c0\ud130\ub9ac-\uad6c\ud604"},"\uc2a4\ud399\uc744 \uc0ac\uc6a9\ud558\ub294 JPA \ub9ac\ud3ec\uc9c0\ud130\ub9ac \uad6c\ud604"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\uc2a4\ud399\uc744 \uc0ac\uc6a9\ud55c \ub9ac\ud3ec\uc9c0\ud130\ub9ac \uad6c\ud604\uc740 \uc2a4\ud399\uc744 \uc0ac\uc6a9\ud558\ub294 \uba54\uc11c\ub4dc\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4.")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\ub9ac\ud3ec\uc9c0\ud130\ub9ac \uad6c\ud604 \uae30\uc220 \uc758\uc874")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ub3c4\uba54\uc778 \ubaa8\ub378\uc740 \uad6c\ud604 \uae30\uc220\uc5d0 \uc758\uc874\ud558\uc9c0 \uc54a\uc544\uc57c\ud569\ub2c8\ub2e4.",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\ub2e4\ub9cc, \uc644\uc804 \uc911\ub9bd\uc801\uc778 \ud615\ud0dc\ub85c \ud560 \ub178\ub825\uae4c\uc9c0\ub294 \uc5c6\uc2b5\ub2c8\ub2e4."))),(0,l.kt)("li",{parentName:"ul"},"\uc2a4\ud399 \uad6c\ud604\uc744 \ucd94\uc0c1\ud654\ud558\uae30 \uc704\ud574 \ub9ce\uc740 \ub178\ub825\uc744 \uae30\uc6b8\uc774\ub294 \uac83\uc5d0 \ube44\ud574 \uc2e4\uc81c \uc5bb\ub294 \uc774\uc810\uc740 \ud06c\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"\uc815\ub82c-\uad6c\ud604"},"\uc815\ub82c \uad6c\ud604"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"JPA\uc758 ",(0,l.kt)("inlineCode",{parentName:"li"},"orderBy"),", JPQL\uc758 ",(0,l.kt)("inlineCode",{parentName:"li"},"order by")," \uc808\uc744 \uc0ac\uc6a9\ud558\uba74 \ub429\ub2c8\ub2e4.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'TypedQuery<Order> query = entityManager.createQuery(\n    "select o from Order o " + \n            "where o.orderer.memberId,id = :ordererId " +\n            "order by o.number.number desc",\n    Order.class);\n)\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ub2e4\uc74c\uacfc \uac19\uc740 \ubc29\ubc95\ub3c4 \uc788\uc2b5\ub2c8\ub2e4.",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},'orderRepository.findAll(someSpec, "number.number desc");'))))),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"\ud398\uc774\uc9d5\uacfc-\uac1c\uc218-\uad6c\ud558\uae30-\uad6c\ud604"},"\ud398\uc774\uc9d5\uacfc \uac1c\uc218 \uad6c\ud558\uae30 \uad6c\ud604"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"JPA \ucffc\ub9ac\ub294 ",(0,l.kt)("inlineCode",{parentName:"li"},"setFirstResult()"),"\uc640 ",(0,l.kt)("inlineCode",{parentName:"li"},"setMaxResults()")," \uba54\uc11c\ub4dc\ub97c \uc81c\uacf5\ud558\uace0 \uc788\ub294\ub370 \uc774 \ub450 \uba54\uc11c\ub4dc\ub97c \uc774\uc6a9\ud574\uc11c \ud398\uc774\uc9d5\uc744 \uad6c\ud604\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'@Override\npublic List<Order> findByOrdererId(String ordererId, int startRaw, int fetchSize) {\n    TypedQueryOrder<Order> query = entityManager.createQuery(\n    "select o from Order o " +\n            "where o.orderer.memberid.id = :ordererId " +\n            "order by o.number.number desc"),\n    Order.class);\n    query.setParameter("ordererId", ordererId);\n    query.setFirstResult(startRaw);\n    query.setMaxResult(fetchSize);\n    return query.getResultList();\n}\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"setFirstResult()")," \uba54\uc11c\ub4dc\ub294 \uc77d\uc5b4\uc62c \uccab \ubc88\uc9f8 \ud589 \ubc88\ud638\ub97c \uc9c0\uc815\ud558\uace0, ",(0,l.kt)("inlineCode",{parentName:"li"},"setMaxResults()")," \uba54\uc11c\ub4dc\ub294 \uc77d\uc5b4\uc62c \ud589 \uac1c\uc218\ub97c \uc9c0\uc815\ud569\ub2c8\ub2e4."),(0,l.kt)("li",{parentName:"ul"},"\ubcf4\uc5ec\uc904 \ud589 \uac1c\uc218\uac00 15\uac1c\uc774\uace0, \ubcf4\uc5ec\uc904 \ud398\uc774\uc9c0 \ubc88\ud638\uac00 4\uc778 \uacbd\uc6b0 ",(0,l.kt)("inlineCode",{parentName:"li"},'findByOrdererId("madvirus", 45, 15)')," \uc758 \uc21c\uc11c\uac00 \ub429\ub2c8\ub2e4.")),(0,l.kt)("br",null),(0,l.kt)("h2",{id:"\uc870\ud68c-\uc804\uc6a9-\uae30\ub2a5-\uad6c\ud604"},"\uc870\ud68c \uc804\uc6a9 \uae30\ub2a5 \uad6c\ud604"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ub9ac\ud3ec\uc9c0\ud130\ub9ac\ub294 \uc560\uadf8\ub9ac\uac70\ud2b8\uc758 \uc800\uc7a5\uc18c\ub97c \ud45c\ud604\ud558\ub294 \uac83\uc73c\ub85c\uc11c \ub2e4\uc74c \uc6a9\ub3c4\ub85c \ub9ac\ud3ec\uc9c0\ud130\ub9ac\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc740 \uc801\ud569\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\uc5ec\ub7ec \uc560\uadf8\ub9ac\uac70\ud2b8\ub97c \uc870\ud569\ud574\uc11c \ud55c \ud654\uba74\uc5d0 \ubcf4\uc5ec\uc8fc\ub294 \ub370\uc774\ud130 \uc81c\uacf5",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\uc9c0\uc5f0 \ub85c\ub529\uacfc \uc989\uc2dc \ub85c\ub529 \uc124\uc815, \uc5f0\uad00 \ub9e4\ud551\uc73c\ub85c \uba38\ub9ac\uac00 \uc544\ud508 \uc774\uc288\uc774\uae30\uc5d0 ID \ucc38\uc870\uc758 \uc7a5\uc810\uc744 \ud65c\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."))),(0,l.kt)("li",{parentName:"ul"},"\uac01\uc885 \ud1b5\uacc4 \ub370\uc774\ud130 \uc81c\uacf5",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\ub2e4\uc591\ud55c \ud14c\uc774\ube14\uc744 \uc870\ud68c\ud558\uac70\ub098 DBMS \uc804\uc6a9 \uae30\ub2a5\uc744 \uc0ac\uc6a9\ud574\uc57c \uad6c\ud560 \uc218 \uc788\ub294\ub370 \uc774\ub294 JPQL\uc774\ub098 Criteria\ub85c \ucc98\ub9ac\ud558\uae30 \ud798\ub4ed\ub2c8\ub2e4.")))))),(0,l.kt)("h3",{id:"\ub3d9\uc801-\uc778\uc2a4\ud134\uc2a4-\uc0dd\uc131"},"\ub3d9\uc801 \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"JPA\ub294 \ucffc\ub9ac \uacb0\uacfc\uc5d0\uc11c \uc784\uc758\uc758 \uac1d\uccb4\ub97c \ub3d9\uc801\uc73c\ub85c \uc0dd\uc131\ud560 \uc218 \uc788\ub294 \uae30\ub2a5\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'@Repository\npublic class JpaOrderViewDao implements OrderViewDao {\n    @PersistenceContext\n    private EntityManager em;\n\n    @Override\n    public List<Overview> selectByOrderer(String ordererId) {\n        String selectQuery =\n                "select new com.myshop.order.application.dto.OrderView(o, m,. p) " +\n                "from Order o join o.orderLines ol, Member m, Product p " +\n                "where o.orderer.memberId.id = :ordererId " +\n                "and o.orderer.memberId = m.id " +\n                "and index(ol) = 0 " +\n                "and ol.productId = p.id " +\n                "order by o.number.number desc";\n        TypedQuery<OrderView> query = em.createQuery(selectQuery, OrderView.class);\n        query.setParameter("ordererId", ordererId);\n        return query.getResultList();\n    }\n}\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public class OrderView {\n    private String number;\n    private long totalAmounts;\n    ...\n    private String productName;\n\n    ... // consturctor\n\n    ... // get method\n}\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ub3d9\uc801 \uc778\uc2a4\ud134\uc2a4\uc758 \uc7a5\uc810\uc740 JPQL\uc744 \uadf8\ub300\ub85c \uc0ac\uc6a9\ud558\ubbc0\ub85c \uac1d\uccb4 \uae30\uc900\uc73c\ub85c \ucffc\ub9ac\ub97c \uc791\uc131\ud558\uba74\uc11c\ub3c4 \ub3d9\uc2dc\uc5d0 \uc9c0\uc5f0/\uc989\uc2dc \ub85c\ub529\uacfc \uac19\uc740 \uace0\ubbfc \uc5c6\uc774 \uc6d0\ud558\ub294 \ubaa8\uc2b5\uc73c\ub85c \ub370\uc774\ud130\ub97c \uc870\ud68c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")),(0,l.kt)("h3",{id:"\ud558\uc774\ubc84\ub124\uc774\ud2b8-subselect-\uc0ac\uc6a9"},"\ud558\uc774\ubc84\ub124\uc774\ud2b8 @Subselect \uc0ac\uc6a9"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ud558\uc774\ubc84\ub124\uc774\ud2b8\ub294 JPA \ud655\uc7a5 \uae30\ub2a5\uc73c\ub85c ",(0,l.kt)("inlineCode",{parentName:"li"},"@Subselect"),"\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"@Subselect")," \ub294 \ucffc\ub9ac \uacb0\uacfc\ub97c ",(0,l.kt)("inlineCode",{parentName:"li"},"@Entity"),"\ub85c \ub9e4\ud551\ud560 \uc218 \uc788\ub294 \uc720\uc6a9\ud55c \uae30\ub2a5\uc785\ub2c8\ub2e4.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'@Entity\n@Immutable\n@Subselect("select o.order_number as number, " + \n        "o.orderer_id, o.orderer_name, o.total_amounts, " +\n        "o.receiver_name, o.state, o.order_date, " +\n        "p.product_id, p.name as product_name " +\n        "from purchase_order o inner join order_line ol " +\n        "   on o.order_number = ol.order_number " +\n        "   cross join product p " + \n        "where ol.line_idx = 0 and ol.product_id = p.product_id"\n)\n@Synchronize({"purchase_order", "order_line", "product"})\npublic class OrderSummary {\n    @Id\n    private String number;\n    private String ordererId;\n    private String ordererName;\n    private int totalAmounts;\n    private String receiverName;\n    private String state;\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = "oderDate")\n    private Date orderDate;\n    private String productId;\n    private String productName;\n\n    ...\n}\n')),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\uc704\uc758 \uc5b4\ub178\ud14c\uc774\uc158\uc744 \ud1b5\ud574 \ud14c\uc774\ube14\uc774 \uc544\ub2cc \ucffc\ub9ac \uacb0\uacfc\ub97c @Entity\ub85c \ub9e4\ud551\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("li",{parentName:"ul"},"\ubdf0\ub97c \uc218\uc815\ud560 \uc218 \uc5c6\ub4ef\uc774 \uc870\ud68c\ub41c @Entity \uc5ed\uc2dc \uc218\uc815\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"@Synchronize")," \ub97c \ud1b5\ud574 \ubcc0\uacbd\uc0ac\ud56d\uc774 \ubc1c\uc0dd\ud558\uba74 \ud50c\ub7ec\uc2dc\ub97c \ud569\ub2c8\ub2e4."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"@Subselect"),"\uc744 \uc0ac\uc6a9\ud574\ub3c4 \uc77c\ubc18 ",(0,l.kt)("inlineCode",{parentName:"li"},"@Entity"),"\uc640 \uac19\uae30 \ub54c\ubb38\uc5d0 JPQL\ub4f1\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \uac83\uc774 \uc7a5\uc810 \uc785\ub2c8\ub2e4.")))}p.isMDXComponent=!0}}]);