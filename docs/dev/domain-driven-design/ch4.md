---
sidebar_position: 4
---

# 4. 바운디드 컨텍스트 연동

- 바운디드 컨텍스트 패턴은 유비쿼터스 언어의 일관성을 유지할 뿐만이 아니라 모델링도 가능하게 합니다.
- 바운디드 컨텍스트 사이에는 접점이 존재하며 이를 **컨트랙트(contract)** 라고 합니다.

## 협력형 패턴 그룹

### 파트너십 패턴

- 연동의 조정은 양방향에서 합니다.
- 발생할 수 있는 연동의 문제를 해결하는 데 양 팀 모두 협력하며, 서로 방해하지 않습니다.
- 양 팀이 적용한 변경사항의 지속적인 통합이 필요합니다.

### 공유 커널 패턴

- 공유 모델은 모든 바운디드 컨텍스트에 걸쳐서 일관성을 유지합니다.

- 공유 범위
  - 겹치는 형태의 모델은 해당되는 컨텍스트의 수명주기도 서로 엮이게 합니다.
- 구현
  - 공유 커널은 소스코드의 모든 변경이 이를 사용하는 모든 바운디드 컨텍스트에 즉시 반영되도록 구현합니다.
  - 공유 커널은 여러 바운디드 컨텍스트에 속하기 때문에 변경은 지속적으로 통합돼야 합니다.
- 공유 커널을 사용해야 하는 경우
  - 공유 커널 패턴의 적용 결정하는 가장 중요한 기준은 중복 비용과 조율 비용의 비율입니다.
  - 통합 비용과 중복 비용의 차이는 모델의 변동성에 달려있습니다.
  - 공유 커널은 동일 팀에서 소유하고 구현한 바운디드 컨텍스트를 연동하는 경우에 잘 맞습니다.


<br/>

## 사용자-제공자 패턴 그룹

- 양팀이 서로 독립적으로 성공할 수 있습니다.
- 제공자는 업스트림이고 사용자는 다운스트림입니다.

### 순응주의자 패턴

- 다운스트림 팀이 업스트림 팀의 모델을 받아들이는 바운디드 컨텍스트의 관계를 순응주의자(conformist) 패턴이라고 부릅니다.

### 충돌 방지 계층 패턴

- 충돌 방지 계층(ACL: anticorruption layer) 패턴은 다음 사례와 같이 제공자의 모델을 따르는 것을 원치 않거나 순응에 필요한 노력이 가치가 없을 경우를 다룹니다.
  - 다운스트림 바운디드 컨텍스트가 핵심 하위 도메인을 포함할 경우
    - 핵심 하위 도메인은 각별한 주의가 필요합니다.
  - 업스트림 모델이 사용자의 요건에 비효율적이거나 불편할 경우
    - 바운디드 컨텍스트가 혼란에 순응하면 그 자체로 위험합니다.
  - 제공자가 컨트랙트를 자주 변경하는 경우
    - 사용자는 잦은 변경으로부터 모델을 보호하기를 원합니다.

### 오픈 호스트 서비스 패턴

- 제공자는 사용자를 보호하고 가능한 최고의 서비스를 제공하는 데 관심이 있습니다.
- 오픈 호스트 서비스(OHS: open-host service) 패턴은 충돌 방지 계층 패턴의 반대입니다.

<br/>

## 분리형 노선

### 커뮤니케이션 이슈

### 일반 하위 도메인

### 모델의 차이

<br/>

## 컨텍스트 맵

### 유지보수

### 한계

<br/>

## 결론