---
sidebar_position: 4
---

# 4. 역할, 책임, 협력

> 우리 모두를 합친 것보다 더 현명한 사람은 없다

- 각 개인이 처해 있는 정황 또는 문맥(context)가 인간의 행동 방식을 결정합니다.
- 이때 인간의 행동을 결정하는 문맥은 **타인과의 협력**입니다.
- 객체의 세계에서도 협력이라는 문맥이 객체의 행동 방식을 결정합니다.
- **훌륭한 객체지향 설계란 객체가 조화를 이루며 적극적으로 상호작용하는 협력적인 객체를 창조하는 것입니다.**

## 4.1 협력

### 요청하고 응답하여 협력하는 사람들

- **협력**은 한 사람이 다른 사람에게 도움을 요청할 때 시작됩니다.
- 요청을 받은 사람은 일을 처리한 후, 요청한 사람에게 필요한 지식이나 서비스를 제공하는 것으로 요청에 **응답**합니다.
- 일반적으로 협력은 다수의 연쇄적인 요청과 응답의 흐름으로 구성됩니다.

### 누가 파이를 훔쳤는지

- 객체지향에서는 객체들은 동일한 목적을 달성하기 위해 협력합니다.

### 재판 속의 협력

- 협력은 수많은 요청과 응답으로 이루어져 있습니다.
- 요청을 받아들일 수 있는 이유는 그 요청에 대해 적절한 방식으로 응답하는 데 필요한 지식과 행동 방식을 가지고 있기 때문입니다.

<br/>

## 4.2 책임

- 객체지향에서는 어떤 객체가 어떤 요청에 대해 대답을 할 수 있거나, 적절한 행동을 할 의무가 있는 경우 객체가 **책임**을 가진다고 말합니다.
- 어떤 대상에 대한 요청은 그 대상이 요청을 처리할 책임이 있습니다.
- 책임은 객체지향 설계의 가장 중요한 재료입니다.
- 객체지향 개발에서 중요한 능력 중 하나는 **책임을 능숙하게 객체에 할당하는 것**입니다.

### 책임의 분류

- 객체의 책임은 **객체가 무엇을 알고 있는지**와 **무엇을 할 수 있는지**로 구성됩니다.
- 하는 것(doing)
  - 객체를 생성하거나 계산을 하는 등의 스스로 하는 것
  - 다른 객체의 행동을 시작시키는 것
  - 다른 객체의 활동을 제어하고 조절하는 것
- 아는 것(knowing)
  - 개인적인 정보에 관해 아는 것
  - 관련된 객체에 관해 아는 것
  - 자신이 유도하거나 계산할 수 있는 것에 관해 아는 것
- 책임은 객체지향 설계의 품질을 결정하는 중요한 요소이며, 적절한 객체에게 적절한 책임을 할당하는 것이 중요합니다.
- 책임은 객체의 **공용 인터페이스(public interface)**를 구성합니다.

### 책임과 메시지

- 한 객체가 다른 객체에게 전송한 요청은 그 요청을 수신한 객체의 책임이 수행되게 합니다. 이처럼 객체가 다른 객체에게 주어진 책임을 수행하도록 요청을 보내는 것을 **메시지 전송(message send)**라고 합니다.
- 두 객체간의 협력은 메시지를 통해 이뤄집니다.
- 다만 책임과 메시지의 수준은 같지않습니다.
  - 책임은 객체가 협력에 참여하기 위해 수행해야 하는 행위를 상위 수준에서 개략적으로 서술한 것입니다.
  - 이를 메시지로 변경할 때는 일반적으로 하나의 책임이 여러 메시지로 분할되는 것이 일반적입니다.
- **객체지향 설계는 협력에 참여하기 위해 어떤 객체가 어떤 책임을 수행해야 하고 어떤 객체로부터 메시지를 수신할 것인지를 결정하는 것으로부터 시작됩니다.**

<br/>

## 4.3 역할

### 책임의 집합이 의미하는 것

- 어떤 객체가 수행하는 책임의 집합은 객체가 협력 안에서 수행하는 역할을 암시합니다.
- 역할이 재사용 가능하고 유연한 객체지향 설계를 낳는 매우 종요한 구성요소입니다.

### 판사와 증인

(앨리스 내용, 생략)

### 역할이 답이다

### 협력의 추상화

### 대체 가능성

<br/>

## 4.4 객체의 모양을 결정하는 협력

### 흔한 오류

### 협력을 따라 흐르는 객체의 책임

<br/>

## 4.5 객체지향 설계 기법

### 책임-주도 설계

### 디자인 패턴

### 테스트-주도 개발
