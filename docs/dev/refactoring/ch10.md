---
sidebar_position: 10
---

# 조건부 로직 간소화

- 조건문 분해하기, 중복 조건식 통합하기
  - 복잡한 조건문인 경우나 논리적 조합을 명확하게 다듬는 경우
- 중첩 조건문을 보호 구문으로 바꾸기, 조건부 로직을 다형성으로 바꾸기
  - 핵심 로직 전 무언가를 검사하거나, 같은 분기 로직이 자주 등장하는 경우
- 특이 케이스 추가하기(널 개체 추가하기), 어서션 추가하기
  - 특이 케이스 처리시
- 제어 플래그를 탈출문으로 바꾸기
  - 제어 플래그를 이용해 코드 동작 흐름을 바꾸는 경우

## 조건문 분해하기

```js
// before
if (!aDate.isBefore(plan.summerStart) && !aDate.isAfter(plan.summerEnd))
  change = quantity * plan.summerRate
else change = quantity * plan.regularRate + plan.regularServiceCharge

// after
if (summer()) charge = summerCharge()
else charge = regularCharge()
```

### 배경

- 복잡한 조건부 로직은 프로그램을 만들게 합니다.
- 거대한 코드 블럭은 코드를 부위별로 분해한 다음 해체된 코드 덩어리들을 각 덩어리의 의도를 살인 이름의 함수 호출을 했습니다.

### 절차

1. 조건식과 그 조건식에 달린 조건절 각각을 함수로 추출했습니다.

### 예시

- 리팩터링 전 코드

```js
if (!aDate.isBefore(plan.summerStart) && !aDate.isAfter(plan.summerEnd))
  change = quantity _ plan.summerRate
else change = quantity _ plan.regularRate + plan.regularServiceCharge
```

- 리팩터링 후 코드

```js
charge = summer() ? summerCharge() : regularCharge()

function summer() {
  return !aDate.isBefore(plan.summerStart) && !aDate.isAfter(plan.summerEnd)
}
function summerCharge() {
  return quantity * plan.summerRate
}
function regularCharge() {
  return quantity * plan.regularRate + plan.regularServiceCharge
}
```

<br/>

## 조건식 통합하기

<br/>

## 중첩 조건문을 보호 구문으로 박꾸기

<br/>

## 조건부 로직을 다형성으로 바꾸기

<br/>

## 특이 케이스 추가하기

<br/>

## 어서션 추가하기

<br/>

## 제어 플래크를 탈출문으로 바꾸기
