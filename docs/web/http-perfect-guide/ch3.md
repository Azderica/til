---
sidebar_position: 3
---

# 3. HTTP 메서드

다음의 내용을 중점으로 이야기합니다.

- 메세지가 어떻게 흐르는지
- HTTP 메시지의 세 부분(시작줄, 헤더, 개체 본문)
- 요청과 응답 메세지의 차이
- 요청 메시지가 지원하는 여러 기능(메서드)들
- 응답 메시지가 반환하는 여러 상태 코드들
- 여러 HTTP 헤더들이 하는 역할

## 3.1 메시지의 흐름

HTTP 메시지 : HTTP 애플리케이션 간에 주고 받은 데이터의 블록

### 메세지는 원 서버 방향을 인바운드로 송신합니다.

![image](https://user-images.githubusercontent.com/42582516/125280505-168a8e00-e350-11eb-9455-afb4b88f08e6.png)

- 인바운드 : 메세지가 서버 방향으로 흐르는 것
- 아웃바운드 : 메세지가 클라이언트 방향으로 흐는 것

### 다운 스트림으로 흐르는 메세지

HTTP 메세지는 반드시 다운 스트림으로 흐릅니다.

![image](https://user-images.githubusercontent.com/42582516/125280771-6bc69f80-e350-11eb-9c53-982bdea2201e.png)

<br/>

## 3.2 메세지의 각 부분

메세지는 데이터의 구조화된 블록입니다. 이는 크게 세가지로 구성됩니다.

| 이름   | 예시                                                |
| ------ | --------------------------------------------------- |
| 시작줄 | `HTTP/1.0 200 OK`                                   |
| 헤더   | `Content-type: textplan` <br/> `Content-length: 19` |
| 본문   | `Hi, I'm a message!`                                |

### 메시지 문법

요청 메세지는 다음의 형태를 가집니다.

```
<메서드><요청 URL><버전>

<헤더>

<엔티티 본문>
```

응답 메세짘는 다음의 형태를 가집니다.

```
<버전><상태코드><사유구절>

<헤더>

<엔티티 본문>
```

각 부분의 설명은 다음과 같습니다.

- 메서드
  - 클라이언트 측에서 서버가 리소스에 대해 수행해주길 바라는 동작
  - 'GET', 'HEAD', 'POST' 등...
- 요청 URL
  - 요청 대상이 되는 리소스를 지칭하는 완전한 URL
- 버전
  - HTTP 버전
- 상태 코드
  - 요청 중에 무엇이 있어났는지 설명하는 세자리 수
- 사유 구절(reason-phrase)
  - 사람이 이해할 수 있게 설명해주는 짧은 구조
- 헤더들
  - 이름, 콜론, 선택적인 공백, 값, CRLF
- 엔티티 본문
  - 임의의 데이터 블록

### 시작줄

모든 HTTP 메시지는 시작줄로 시작합니다.

- 요청줄
  - 서버에게 리소스에 대해 무언갈을 해달라고 부탁하는 것
- 응답줄
  - 수행결과에 대한 상태 정보와 결과 데이터를 클라이언트에게 돌려짐
- 메서드
  - 요청의 시작줄은 메서드로 시작합니다.
  - `GET`, `HEAD`, `POST`, `PUT`, `TRACE`, `OPTIONS`, `DELETE`
- 상태 코드
  - 클라이언트에서 무슨일이 있었는지 말해줍니다.
    |전체 범위|정의된 범위|분류|
    |-|-|-|
    |100-199|100-101|정보|
    |200-299|200-206|성공|
    |300-399|300-305|리다이렉션|
    |400-499|400-415|클라이언트 에러|
    |500-599|500-505|서버 에러|
  - 대표적인 상태 코드는 다음과 같습니다.
    |상태코드|사유 구절|의미|
    |200|OK|성공, 요청한 모든 데이터는 응답 본문에 들어있습니다.|
    |401|Unauthorized|사용자 이름과 비밀번호를 입력해야합니다.|
    |404|Not Found|서버는 요청한 URL에 해당하는 리소스를 찾지 못합니다.|
- 사유 구절
  - 응답 시작줄의 마지막 구성요소
- 버전 번호
  - HTTP/x.y 형식
  - 요청과 응답 모두 기술됩니다.

### 헤더

시작줄 다음에는 0개, 1개 혹은 여러개의 HTTP 헤더가 옵니다. 이는 요청과 응답 메세지에 추가 정보를 줍니다.

- 일반 헤더 : 요청과 응답 양쪽에 모두 나타날 수 있음
- 요청 헤더 : 요청에 대한 부가 정보 제공
- 응답 헤더 : 응답에 대한 부가 정보 제공
- Entity 헤더 : 본문 크기와 콘텐츠, 혹은 리소스 자체 정의
- 확장 헤더 : 명세에 정의되지 않은 새로운 헤도ㅓ

ex) Date, Content-length, Content-type, Accept

```
HTTP/1.0 200 OK
Content-Type: image/gif
Content-Length: 8572
Server: Test Server Version 1.0
```

### 엔티티 본문

이미지, 비디오, HTML 문서, 소프트웨어 애플리케이션 등등

> 버전 0.9 메세지

- HTTP 포로톸홀의 초기버전
- 상태 코드, 사유 구절, 헤더가 없습니다.
