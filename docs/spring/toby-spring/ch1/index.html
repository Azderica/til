<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/til/blog/rss.xml" title="Log that Today I Learned Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/til/blog/atom.xml" title="Log that Today I Learned Blog Atom Feed"><title data-react-helmet="true">1장. 오브젝트와 의존관계 | Log that Today I Learned</title><meta data-react-helmet="true" property="og:url" content="https://Azderica.github.io/til/docs/spring/toby-spring/ch1"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="1장. 오브젝트와 의존관계 | Log that Today I Learned"><meta data-react-helmet="true" name="description" content="DAO"><meta data-react-helmet="true" property="og:description" content="DAO"><link data-react-helmet="true" rel="shortcut icon" href="/til/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://Azderica.github.io/til/docs/spring/toby-spring/ch1"><link data-react-helmet="true" rel="alternate" href="https://Azderica.github.io/til/docs/spring/toby-spring/ch1" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://Azderica.github.io/til/docs/spring/toby-spring/ch1" hreflang="x-default"><link rel="stylesheet" href="/til/assets/css/styles.dc5e9681.css">
<link rel="preload" href="/til/assets/js/runtime~main.3348bae8.js" as="script">
<link rel="preload" href="/til/assets/js/main.75e7f7dc.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/til/"><strong class="navbar__title">Azderica TIL</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/til/docs/intro">Docs</a><a href="https://Azderica.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><a href="https://github.com/Azderica" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/til/"><strong class="navbar__title">Azderica TIL</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/til/docs/intro">Docs</a></li><li class="menu__list-item"><a href="https://Azderica.github.io" target="_blank" rel="noopener noreferrer" class="menu__link">Blog</a></li><li class="menu__list-item"><a href="https://github.com/Azderica" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/til/docs/intro">📚Welcome TIL</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">dev</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Clean Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/dev/clean-architecture/README">Clean Architecture</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Clean Code</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/dev/clean-code/ch1">Clean Code 내용 정리 - 1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/dev/clean-code/ch2">Clean Code 내용 정리 - 2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/dev/clean-code/ch3">Clean Code 내용 정리 - 3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/dev/clean-code/ch4">Clean Code 내용 정리 - 4</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/dev/clean-code/ch5">Clean Code 내용 정리 - 5</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/dev/clean-code/ch6">Clean Code 내용 정리 - 6</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">객체 지향과 디자인 패턴</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/dev/object-orientation-and-design-patterns/ch1">객체 지향</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/dev/object-orientation-and-design-patterns/ch2">설계 원칙/ DI와 서비스 로케이터</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/dev/object-orientation-and-design-patterns/ch3">주요 디자인 패턴</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Refactoring</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/dev/refactoring/ch1">1. 리팩터링: 첫 번째 예시</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/dev/refactoring/ch2">2. 리팩토링 원칙</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/dev/refactoring/ch3">3. 코드에서 나는 악취</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/dev/refactoring/ch4">4. 테스트 구축하기</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/dev/refactoring/ch5">5. 리팩토링 카탈로그 보는 법</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/dev/refactoring/ch6">6. 기본적인 리팩터링</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">java</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Effective Java</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/effective-java/ch1">1. 소개</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/effective-java/ch2">2. 객체 생성과 삭제</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/effective-java/ch3">3. 모든 객체의 공통적인 메소드</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/effective-java/ch4">4. 클래스와 인터페이스</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/effective-java/ch5">5. 제네릭</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/effective-java/ch6">6. Enums 타입과 어노테이션</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/effective-java/ch7">7. 람다와 스트림</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/effective-java/ch8">8. 메소드</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/effective-java/ch9">9. 일반적인 프로그래밍 원칙</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/effective-java/ch10">10. 예외</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/effective-java/ch11">11. 동시성, Concurrency</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/effective-java/ch12">12. 직렬화, Serialization</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Optimizing Java</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/optimizing-java/ch1">성능과 최적화</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/optimizing-java/ch10">JIT 컴파일의 세계로</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/optimizing-java/ch2">JVM 이야기</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/optimizing-java/ch3">하드웨어와 운영체제</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/optimizing-java/ch4">성능 테스트 패턴 및 안티패턴</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/optimizing-java/ch5">마이크로벤치마킹과 통계</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/optimizing-java/ch6">가비지 수집 기초</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/optimizing-java/ch7">가비지 수집 고급</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/optimizing-java/ch8">GC 로깅, 모니터링, 튜닝, 툴</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/optimizing-java/ch9">JVM의 코드 실행</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">spring</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">토비의 스프링</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/til/docs/spring/toby-spring/ch1">1장. 오브젝트와 의존관계</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">web</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">HTTP 완벽 가이드</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/web/http-perfect-guide/ch1">HTTP : 웹의 기초</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">1장. 오브젝트와 의존관계</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="dao"></a>DAO<a class="hash-link" href="#dao" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="용어-정리"></a>용어 정리<a class="hash-link" href="#용어-정리" title="Direct link to heading">#</a></h3><ul><li>DAO<ul><li>DAO(Data Access Object)는 DB를 사용해 데이터를 조회하거나 조작하는 기능을 전담하도록 만든 오브젝트</li></ul></li><li>JavaBean(자바 빈)<ul><li>비주얼 툴에서 조작 가능한 컴포넌트</li><li>두 가지 조건이 필요<ul><li>디폴트 생성자 : 파라미터가 없는 디폴트 생성자가 필요</li><li>프로퍼티 : 자바빈이 노출하는 이름을 가진 속성, 접근자(set/get)을 통해 수정 및 조회 가능</li></ul></li></ul></li><li>리팩토링<ul><li>기존의 코드를 외부의 동작방식에 변화 ㅇ벗이 내부 구조를 변경해서 재구성하는 작업/기술</li><li>좋은 내부 설계로 인해 유지보수와 생산성, 품질이 높아집니다.</li><li>마틴 하울러의 <strong>리팩토링</strong> 책 추천</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="jdbc-작업의-순서"></a>JDBC 작업의 순서<a class="hash-link" href="#jdbc-작업의-순서" title="Direct link to heading">#</a></h3><ol><li>DB 연결을 위한 Connection을 가져온다</li><li>SQL을 담은 Statement를 만든다</li><li>만들어진 Statement를 실행한다</li><li>조회의 경우 SQL 쿼리의 실행 결과를 ResultSet으로 받아서 정보를 저장할 Object에 옮겨준다.</li><li>작업 중에 생성된 Connection, Statement, ResultSet 같은 리소스는 작업을 마친 후 반드시 닫는다.</li><li>JDBC API가 만들어내는 예외를 잡아서 직접 처리하거나, 메소드에 throws를 선언해서 예외가 발생시 메소드 밖으로 던집니다.</li></ol><br><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="코드를-통한-리팩토링"></a>코드를 통한 리팩토링<a class="hash-link" href="#코드를-통한-리팩토링" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="리팩토링-전-코드"></a>리팩토링 전 코드<a class="hash-link" href="#리팩토링-전-코드" title="Direct link to heading">#</a></h3><p>오브젝트 클래스</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@Getter @Setter</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class User {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  String id;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  String name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  String password;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>DB를 관리할 수 있는 DAO 클래스</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class UserDao {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public void add(User user) throws ClassNotFoundException, SQLException {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Class.forName(&quot;come.mysql.jdbc.Driver&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Connection c = DriverManager.getConnection(&quot;jdbc:mysql://localhost:springbook&quot;, &quot;spring&quot;, &quot;book&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    PreparedStatement ps = c.prepareStatement(&quot;insert into users(id, name, password) values(?, ?, ?)&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ps.setString(1, user.getId());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ps.setString(2, user.getName());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ps.setString(3, user.getPassword());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ps.executeUpdate();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ps.close();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    c.close();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public void get(String id) throws ClassNotFoundException, SQLException {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Class.forName(&quot;come.mysql.jdbc.Driver&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Connection c = DriverManager.getConnection(&quot;jdbc:mysql://localhost:springbook&quot;, &quot;spring&quot;, &quot;book&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    PreparedStatement ps = c.prepareStatement(&quot;select * from users where id = ?&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ps.setString(1, id);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ResultSet rs = ps.executeQuery();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    rs.next();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    User user = new User();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    user.setId(rs.getString(&quot;id&quot;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    user.setName(rs.getString(&quot;name&quot;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    user.setPassword(rs.getString(&quot;password&quot;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    rs.close();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ps.close();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    c.close();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return user;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>테스트 클래스</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public static void main(String[] args) throws ClassNotFoundException, SQLException {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  UserDao dao = new UserDao();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  User user = new User();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  user.setId(&quot;123&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  user.setName(&quot;myName&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  user.setPassword(&quot;myPassword&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  dao.add(user);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  System.out.println(user.getId() + &quot; is created&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  User user2 = dao.get(user.getId());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  System.out.println(user2.getName());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  System.out.println(user2.getPassword());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  System.out.println(user2.getId() + &quot;is validate&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="해당-코드의-문제점"></a>해당 코드의 문제점.<a class="hash-link" href="#해당-코드의-문제점" title="Direct link to heading">#</a></h3><p>관심사의 분리가 없음. -&gt; <strong>분리와 확장</strong>이 필요 (관심사의 분리, Separation of Concerns)</p><p>객체 지향의 장점을 살리지 못했음</p><ul><li>변화에 효과적으로 대처할 수 잇음</li><li>가상의 추상세계를 효과적으로 구성 가능</li><li>이를 자유롭고 편리하게 변경, 발전, 확장이 가능합니다.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="디자인-패턴"></a>디자인 패턴<a class="hash-link" href="#디자인-패턴" title="Direct link to heading">#</a></h3><p>소프트웨어 설계 시 특정 상황에서 자주 만나는 문제를 해결하기 위해 사용할 수 있는 재사용 가능한 솔루션</p><p>패턴의 내부 설계의 구조는 일반적으로 비슷한데, 대부분 두 구조로 정리된다.</p><ul><li>클래스 상속</li><li>오브젝트 합성</li></ul><p>패턴에서 가장 중요한 내용은 <strong>각 패턴의 핵심이 담긴 목적이나 의도</strong>이다.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="템플릿-메소드-패턴"></a>템플릿 메소드 패턴<a class="hash-link" href="#템플릿-메소드-패턴" title="Direct link to heading">#</a></h4><p><strong>의도</strong> : 상속을 통해서 슈퍼클래스의 기능을 확장하기 사용하는 가장 대표적인 방법</p><p>변하지 않는 기능은 슈퍼클래스에서 만들고, 자주 변경되며 확장할 기능은 서브클래스에서 만듭니다.</p><p>슈퍼 클래스에서 미리 추상 메소드나 오버라이드 가능한 메소드를 정의하고, 이를 활용한 템플릿 메소드를 만듭니다. 이를 일반적으로 훅(hook) 메소드라고 합니다.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="팩토리-메소드-변경"></a>팩토리 메소드 변경<a class="hash-link" href="#팩토리-메소드-변경" title="Direct link to heading">#</a></h4><p><strong>의도</strong> : 상속을 통해 기능을 확장하는 패턴</p><p>슈퍼클래스 코드에서 서브클래스에서 구현할 메소드를 호출해서 필요한 타입의 오브젝트를 가져와서 사용합니다.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="리팩토링-전략"></a>리팩토링 전략<a class="hash-link" href="#리팩토링-전략" title="Direct link to heading">#</a></h3><p>다음과 같은 솔루션을 사용했습니다.</p><ul><li>반복적인 코드 제거</li><li>상속 사용 -&gt; but, 상속이 가지는 2가지 문제가 존재<ul><li>다중 상속 불가, 상속 클래스는 생각보다 밀접함</li></ul></li><li>따라서 <strong>인터페이스 사용</strong></li><li>관계설정 책임의 분리</li><li>불필요한 의존 제거 -&gt; 다형성을 이용</li><li>각종 원칙과 패턴을 적용<ul><li>해당 문제에서는 개방 폐쇄 원칙을 적용하였습니다.</li></ul></li><li>IoC 사용</li></ul><blockquote><p>원칙과 패턴</p></blockquote><p>객체지향 설계 원칙(SOLID)는 크게 다음과 같이 5가지로 구성됩니다.</p><ul><li>SPR(The Single Responsibility Principle) : 단일 책임 원칙</li><li>OCP(The Open Closed Principle) : 개방 폐쇄 원칙</li><li>LSP(The Liskov Substitution Principle) : 리스코프 치환 원칙</li><li>ISP(The Interface Segregation Principle) : 인터페이스 분리 원칙</li><li>DIP(The Dependency Inversion Principle) : 의존관계 역전 원칙</li></ul><blockquote><p>높은 응집도와 낮은 결합도 (High coherence and low coupling)</p></blockquote><p>개방 폐쇄 원칙(OCP)는 <strong>높은 응집도와 낮은 결합도</strong>로 설명가능합니다.</p><ul><li>높은 응집도<ul><li>변화가 일어날 때 해당 모듈에서 변하는 부분이 큽니다.</li><li>응집도가 적으면 모듈의 일부분만 변하기 때문에 이를 확인해야하는 부담이 필요합니다.</li></ul></li><li>낮은 결합도<ul><li>책임과 관심사가 다른 오프젝트 또는 모듈과는 낮은 결합도(느슨한 연결)을 유지합니다.</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="리팩토링-한-코드"></a>리팩토링 한 코드<a class="hash-link" href="#리팩토링-한-코드" title="Direct link to heading">#</a></h3><p><img src="https://user-images.githubusercontent.com/42582516/108572122-f3d1eb80-7354-11eb-982b-e1c7dd558eb3.png" alt="image"></p><p>다음과 같이 설계됩니다.</p><p>DaoFactory</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class DaoFactory {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public UserDao userDao() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return new UserDao(connectionMaker());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public AccountDao accountDao() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return new AccountDao(connectionMaker());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public MessageDao messageDao() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return new MessageDao(connectionMaker());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public ConnectionMaker connectionMaker() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return new DConnectionMaker();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>ConnectionMaker Interface</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public interface ConnectionMaker {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public Connection makeConnection() throws ClassNotFoundException, SQLException;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>UserDao</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class UserDao {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  private ConnectionMaker connectionMaker;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public UserDao(ConnectionMaker connectionMaker) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    this.connectionMaker = connectionMaker;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public void add(User user) throws ClassNotFoundException, SQLException {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Connection c = connectionMaker.makeConnection();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public void get(String id) throws ClassNotFoundException, SQLException {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Connection c = connectionMaker.makeConnection();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Test</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class UserDaoTest {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public static void main(String[] args) throws ClassNotFoundException, SQLException {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    UserDao dao = new DaoFactory().userDao();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><br><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ioc"></a>IoC<a class="hash-link" href="#ioc" title="Direct link to heading">#</a></h2><p>IoC는 제어의 역전(Inversion of Control)의 약자입니다.</p><p>제어의 역전은 <strong>일종의 프로그램의 제어 흐름 구조가 뒤바뀌는 것을 의미</strong>합니다.</p><p>모든 제어 권한을 자신이 아닌 다른 대상에 위임합니다. 프로그램의 시작을 담당하는 <code>main()</code>과 같은 엔트리 포인트를 제외하면 모든 오브젝트는 이렇게 위임받은 제어 권한을 갖는 특별한 오브젝트에 의해 결정되고 만들어집니다.</p><p>다음과 같은 내용이 필요합니다.</p><ul><li>애플리케이션 컴포넌트의 생성과 관계설정, 사용, 생명주기 관리를 하는 존재가 필요</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="factory"></a>Factory<a class="hash-link" href="#factory" title="Direct link to heading">#</a></h3><p>객체의 생성 방법을 결정하고, 만들어진 오브젝트를 돌려줍니다.</p><p>추상 팩토리 패턴이나 팩토리 메소드 패턴에서 이야기하는 팩토리와는 다릅니다.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="대표적-예시"></a>대표적 예시<a class="hash-link" href="#대표적-예시" title="Direct link to heading">#</a></h3><p>JSP, EJB, 프레임 워크</p><p>프레임워크의 경우는 라이브러리와 달리 애플리케이션 코드가 프레임워크에 의해 사용되며 개발한 클래스를 등록하고 흐름을 주도하는 중에 개발자가 만든 애플리케이션 코드를 사용하는 방식</p><br><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="spring-ioc"></a>Spring IoC<a class="hash-link" href="#spring-ioc" title="Direct link to heading">#</a></h2><p>스프링의 핵심을 담당하는 것은 <strong>빈 팩토리</strong>또는 <strong>애플리케이션 컨텍스트</strong>입니다.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="용어-정리-1"></a>용어 정리<a class="hash-link" href="#용어-정리-1" title="Direct link to heading">#</a></h3><ul><li>빈(bean)<ul><li>스프링이 제어권을 가지고 직접 만들고 관계를 부여하는 오브젝트</li><li>스프링이 IoC 방식으로 관리하는 오브젝트</li></ul></li><li>빈 팩토리(bean factory)<ul><li>IoC를 담당하는 컨테이너</li><li>빈의 등록, 생성과 관계설정 같은 제어를 담당하는 IoC 오브젝트</li><li>대표적인 예시로 <code>getBean()</code>와 같은 메소드가 있다.</li></ul></li><li>애플리케이션 컨텍스트(application context)<ul><li>빈 팩토리를 확장한 IoC 컨테이너</li><li>빈을 등록하고 관리하는 기본적인 기능은 빈팩토리와 동일</li><li><code>BeanFactory</code>를 상속받음</li></ul></li><li>설정정보/설정 메타정보(configuration metadata)<ul><li>애플리케이션 컨텍스트가 IoC를 적용하기 위해 사용하는 메타정보</li></ul></li><li>컨테이너/IoC 컨테이너<ul><li>IoC 방식으로 빈을 관리한다는 의미</li></ul></li><li>스프링 프레임워크<ul><li>IoC 컨테이너, 애플리케이션 컨텍스트를 포함해서 스프링이 제공하는 모든 기능을 통틀어 말할 때 주로 사용됨</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="애플리케이션-컨텍스트"></a>애플리케이션 컨텍스트<a class="hash-link" href="#애플리케이션-컨텍스트" title="Direct link to heading">#</a></h3><blockquote><p>애노테이션</p></blockquote><ul><li><code>@Configuration</code> : 애플리케이션 컨텍스트 또는 빈 팩토리가 사용할 설정 정보</li><li><code>@Bean</code> : 오브젝트 생성을 담당하는 IoC용 메소드라는 표시</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="애플리케이션-컨텍스트의-장점"></a>애플리케이션 컨텍스트의 장점<a class="hash-link" href="#애플리케이션-컨텍스트의-장점" title="Direct link to heading">#</a></h4><ul><li>클라이언트는 구체적인 팩토리 클래스 알 필요가 없습니다.</li><li>애플리케이션 컨텍스트는 종합 IoC 서비스를 제공해줍니다.</li><li>애플리케이션 컨텍스트는 빈을 검색하는 다양한 방법을 제공합니다.</li></ul><br><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="싱글톤-레지스트리와-오브젝트-스코프"></a>싱글톤 레지스트리와 오브젝트 스코프<a class="hash-link" href="#싱글톤-레지스트리와-오브젝트-스코프" title="Direct link to heading">#</a></h2><blockquote><p>오브젝트의 동일성(identical)과 동등성(equality)</p></blockquote><p>두 오브젝트가 동일하다면 사실은 하나의 오브젝트만 존재하고, 두 개의 오브젝트 레퍼런스 변수를 가지고 있는 것이고 두 오브젝트가 동등하다는 것은 각기 다른 오브젝트가 존재하는데 동등성 기준에 따라 두 오브젝트의 정보가 동등하다고 판단하는 것입니다.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="서버-애플리케이션과-싱글톤"></a>서버 애플리케이션과 싱글톤<a class="hash-link" href="#서버-애플리케이션과-싱글톤" title="Direct link to heading">#</a></h3><p>애플리케이션 컨텍스트는 <strong>싱글톤</strong>을 저장하고 관리한다.</p><p>스프링에서 싱글톤을 사용하는 이유는 다음과 같다.</p><ul><li>대부분 스프링은 서버환경에서 사용된다.</li><li>높은 처리의 성능이 요구된다.</li><li>데이터 액세스 로직, 서비스 로직, 비지니스 로직, 프레젠테이션 로직 등의 다양한 기능을 담당하는 오브젝트들이 참여하는 계층적 구조로 이루어 있다.</li><li>즉, <strong>많은 요청이 들어올 때 마다 로직을 선언해서 사용하는 경우, 서버가 감당하기 힘들다.</strong></li></ul><p>서블릿이 자바 EE의 기본이 되는 서비스 오브젝트이며, 싱글톤으로 동작합니다.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="싱글톤-패턴과-단점"></a>싱글톤 패턴과 단점<a class="hash-link" href="#싱글톤-패턴과-단점" title="Direct link to heading">#</a></h3><p>디자인 패턴 중의 하나이며, 자주 활용되지만 많은 비판도 있습니다. 싱글톤 패턴은 <strong>어떤 클래스를 애플리케이션 내에서 제한된 인스턴스 개수, 이름처럼 주로 하나만 존재하도록 강제하는 패턴</strong>입니다.</p><p>그러나 다음과 같은 문제가 존재합니다.</p><ul><li>private 생성자를 가지고 있기 때문에 상속할 수 없습니다.<ul><li>객체 지향적인 설계의 장점을 적용하기 어렵습니다.</li></ul></li><li>싱글톤은 테스트하기 힘듭니다.<ul><li>만들어지는 방식이 제한적이라서 테스트가 어렵거나 불가능한 경우가 있습니다.</li></ul></li><li>서버환경에서 싱글톤이 하나만 만들어지는 것을 보장하지 못합니다.<ul><li>클래스 로드에 따라 하나 이상의 오브젝트가 생성가능합니다.</li></ul></li><li>싱글톤의 사용은 전역 상태를 만들 수 있기 때문에 좋지않습니다.<ul><li>사용하는 클라이언트가 정해져있지않고, 스태틱 메소드로 접근이 가능하므로 어디서든지 사용가능합니다.</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="싱글톤-레퍼지토리"></a>싱글톤 레퍼지토리<a class="hash-link" href="#싱글톤-레퍼지토리" title="Direct link to heading">#</a></h3><p>정의 : 직접 싱글톤 형태의 오버젝트를 만들고 관리하는 기능을 제공하는 것</p><p>장점</p><ul><li>평범한 자바 클래스를 싱글톤으로 활용하게 해줍니다.</li><li>객체 지향적인 설계방식과 원칙, 디자인 패턴 등을 적용하는데 제약이 없습니다. (싱글톤 패턴 제외)</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="싱글톤과-오브젝트의-상태"></a>싱글톤과 오브젝트의 상태<a class="hash-link" href="#싱글톤과-오브젝트의-상태" title="Direct link to heading">#</a></h3><p>싱글톤은 멀티스레드 환경이면 여러 스레드가 동시에 접근해서 사용가능 -&gt; 상태 관리에 주의를 기울여야함</p><p>기본적으로 서비스 형태의 오브젝트로 사용하는 경우, 무상태(stateless) 방식으로 만들어야합니다.</p><ul><li>일반적으로 파라미터, 로컬 변수, 리턴 값 등을 사용해야합니다.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="스프링-빈의-스코프"></a>스프링 빈의 스코프<a class="hash-link" href="#스프링-빈의-스코프" title="Direct link to heading">#</a></h3><p>정의 : 스프링이 관리하는 오브젝트인 빈이 생성하고 존재, 적용되는 범위</p><br><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="의존-관계-주입-di"></a>의존 관계 주입 (DI)<a class="hash-link" href="#의존-관계-주입-di" title="Direct link to heading">#</a></h2><p>DI를 번역하면 의존성 주입으로 해석되지만, 이는 완벽한 해석이라고 할 수는 없습니다. 핵심은 <strong>오브젝트 레퍼런스를 외부로부터 제공(주입)받고 이를 통해 여타 오브젝트와 다이내믹하게 의존관계가 만들어지는 것</strong>입니다.</p><p>의존이란? 영향을 미친다는 것.</p><ul><li>A가 B에 의존 = B가 A에 영향을 미친다.</li></ul><p>의존오브젝트?</p><ul><li>프로그램이 시작되고 오브젝트가 만들어지고 런타임시에 의존관계를 맺는 대상</li></ul><p><strong>의존 관계 주입</strong>은 3가지 조건을 만족해야합니다.</p><ul><li>클래스 모델이나 코드에는 런타임 시점의 의존관계가 드러나지 않는다. 즉, 인터페이스에만 의존해야합니다.</li><li>런타임 시점의 의존관계는 컨테이너나 팩토리 같은 제 3의 존재가 결정합니다.</li><li>의존관계는 사용할 오브젝트에 대한 레퍼런스를 외부에서 제공해줌으로써 만들어집니다.</li></ul><p>의존관계 검색(dependency lookup)?</p><ul><li>자신이 필요로 하는 의존 오브젝트를 능동적으로 찾음.</li><li>기존의 다른 의존관계 주입의 거의 모든 장점을 가지고 있습니다.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="di-기술의-장점"></a>DI 기술의 장점<a class="hash-link" href="#di-기술의-장점" title="Direct link to heading">#</a></h3><ul><li>객체지향 설계와 프로그래밍의 원칙의 장점</li><li>결합도가 낮고, 의존성이 적으며, 확장에 좀 더 자유롭습니다.</li></ul><p>따라서 아래의 응용 사례에 쓸 수 있습니다.</p><ul><li>기능 구현의 교환 (ex. 개발시 개발 DB, 배포시는 실제 DB)</li><li>부가 기능 추가</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="메소드를-통한-의존관계-주입"></a>메소드를 통한 의존관계 주입<a class="hash-link" href="#메소드를-통한-의존관계-주입" title="Direct link to heading">#</a></h3><p>일반적으로는 의존관계 주입을 위해 <strong>생성자</strong>를 사용했으나 메소드를 이용해서도 생성할 수 있습니다.</p><ul><li>setter 메소드를 이용한 주입</li><li>일반 메소드를 이용한 주입</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="xml을-이용한-설정"></a>XML을 이용한 설정<a class="hash-link" href="#xml을-이용한-설정" title="Direct link to heading">#</a></h3><p>다음과 같이 사용할 수 있습니다.</p><table><thead><tr><th></th><th>자바 코드 설정정보</th><th>XML 설정정보</th><th>설명</th></tr></thead><tbody><tr><td>빈 설정파일</td><td><code>@Configuration</code></td><td><code>&lt;beans&gt;</code></td><td></td></tr><tr><td>빈의 이름</td><td><code>@Bean methodName()</code></td><td><code>&lt;bean id=&quot;methodName&quot;</code></td><td>빈이름</td></tr><tr><td>빈의 클래스</td><td><code>return new BeanClass();</code></td><td><code>class=&quot;a.b.c... BeanClass&quot;&gt;</code></td><td>빈 오브젝트를 어떤 클래스를 이용해 만들지 결정</td></tr></tbody></table><ul><li>빈의 의존 오브젝트 : 빈의 생성자나 수정자 메소드를 통해 의존 오브젝트를 넣어줍니다.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="프로퍼티-값-주입"></a>프로퍼티 값 주입<a class="hash-link" href="#프로퍼티-값-주입" title="Direct link to heading">#</a></h3><p>값 주입도 일종의 DI, value를 넣어줄 수 있습니다.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><div tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">username</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">value</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">admin</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><br><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="정리"></a>정리<a class="hash-link" href="#정리" title="Direct link to heading">#</a></h2><ul><li>바뀔 수 있는 쪽의 클래스는 인터페이스를 구현하고, 다른 클래스에서는 인터페이스를 통해서만 접근 가능하도록 해야한다.<ul><li>이를 통해서 책임이 변하는 경우 외에는 불필요한 변화를 줄일 수 있습니다.</li><li>낮은 결합도, 높은 응집도를 구현할 수 있습니다.</li></ul></li><li>IoC, Di를 통해서 생성 및 선택 책임을 벗어 날 수 있습니다.</li><li>DI를 통해서 설계 시점과 코드레벨에서는 클래스와 인터페이스 사이의 느슨한 의존관계를 구성하고, 런타임시 실제 사용할 구체적인 의존 오브젝트를 DI 컨테이너를 통해서 주입받아 의존관계를 만듭니다.</li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Azderica/til/edit/master/docs/spring/toby-spring/ch1.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-05-28T05:23:51.000Z" class="lastUpdatedDate_1WI_">5/28/2021</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/til/docs/java/optimizing-java/ch9"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« JVM의 코드 실행</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/til/docs/web/http-perfect-guide/ch1"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">HTTP : 웹의 기초 »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#dao" class="table-of-contents__link">DAO</a><ul><li><a href="#용어-정리" class="table-of-contents__link">용어 정리</a></li><li><a href="#jdbc-작업의-순서" class="table-of-contents__link">JDBC 작업의 순서</a></li></ul></li><li><a href="#코드를-통한-리팩토링" class="table-of-contents__link">코드를 통한 리팩토링</a><ul><li><a href="#리팩토링-전-코드" class="table-of-contents__link">리팩토링 전 코드</a></li><li><a href="#해당-코드의-문제점" class="table-of-contents__link">해당 코드의 문제점.</a></li><li><a href="#디자인-패턴" class="table-of-contents__link">디자인 패턴</a></li><li><a href="#리팩토링-전략" class="table-of-contents__link">리팩토링 전략</a></li><li><a href="#리팩토링-한-코드" class="table-of-contents__link">리팩토링 한 코드</a></li></ul></li><li><a href="#ioc" class="table-of-contents__link">IoC</a><ul><li><a href="#factory" class="table-of-contents__link">Factory</a></li><li><a href="#대표적-예시" class="table-of-contents__link">대표적 예시</a></li></ul></li><li><a href="#spring-ioc" class="table-of-contents__link">Spring IoC</a><ul><li><a href="#용어-정리-1" class="table-of-contents__link">용어 정리</a></li><li><a href="#애플리케이션-컨텍스트" class="table-of-contents__link">애플리케이션 컨텍스트</a></li></ul></li><li><a href="#싱글톤-레지스트리와-오브젝트-스코프" class="table-of-contents__link">싱글톤 레지스트리와 오브젝트 스코프</a><ul><li><a href="#서버-애플리케이션과-싱글톤" class="table-of-contents__link">서버 애플리케이션과 싱글톤</a></li><li><a href="#싱글톤-패턴과-단점" class="table-of-contents__link">싱글톤 패턴과 단점</a></li><li><a href="#싱글톤-레퍼지토리" class="table-of-contents__link">싱글톤 레퍼지토리</a></li><li><a href="#싱글톤과-오브젝트의-상태" class="table-of-contents__link">싱글톤과 오브젝트의 상태</a></li><li><a href="#스프링-빈의-스코프" class="table-of-contents__link">스프링 빈의 스코프</a></li></ul></li><li><a href="#의존-관계-주입-di" class="table-of-contents__link">의존 관계 주입 (DI)</a><ul><li><a href="#di-기술의-장점" class="table-of-contents__link">DI 기술의 장점</a></li><li><a href="#메소드를-통한-의존관계-주입" class="table-of-contents__link">메소드를 통한 의존관계 주입</a></li><li><a href="#xml을-이용한-설정" class="table-of-contents__link">XML을 이용한 설정</a></li><li><a href="#프로퍼티-값-주입" class="table-of-contents__link">프로퍼티 값 주입</a></li></ul></li><li><a href="#정리" class="table-of-contents__link">정리</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 Myeonghun's Study, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/til/assets/js/runtime~main.3348bae8.js"></script>
<script src="/til/assets/js/main.75e7f7dc.js"></script>
</body>
</html>