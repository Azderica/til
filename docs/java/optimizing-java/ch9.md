# JVM의 코드 실행

JVM이 제공하는 **가장 중요한 서비스는 메모리 관리와 사용하기 쉬운 애플리케이션 코드 실행 컨테이너**입니다.

이 장에서는 바이트코드 해석을 알아보고 인터프리터와 핫스팟의 차이점에 대해 알아봅니다. 그리고 프로파일 기반 최적화의 기초 개념을 다루고 코드 캐시 및 핫스팟 컴파일 서비시스템의 기본적인 내용을 다룹니다.

## 바이트코드 해석

JVM 인터프리터는 일종의 스택 머신처럼 작동하므로 물리적 CPU와는 달리 계산 결과를 보관하는 레지스터리는 없습니다. 대신 작업할 값은 모두 평가 스택에 놓고 스택 머신 명령어로 스택 최상단에 위치한 값을 모두 평가 스택에 놓고 스택 머신 명령어로 스택 최상단에 위치한 값을 변환하는 식으로 작동합니다.

JVM은 다음 세 공간에 주로 데이터를 담아 높습니다.

- 평가 스택 : 메서드별로 하나씩 생성됩니다.
- 로컬 변수 : 결과를 임시 저장합니다.
- 객체 힙 : 메서드끼리, 스레드끼리 공유됩니다.

### JVM 바이트코드 개요

자바는 처음부터 이식성을 염두에 두고 설계된 언어입니다. 따라서 big endian, little endian 하드웨어 아키텍처 모두 바이트 코드 변경없이 실행 가능하도록 명세에 규정되어 있습니다.

다음과 같은 명령어가 있습니다.

- 로드/스토어 카테고리
  - load, store, ldc, const, pop, dup, getField, putField
- 산술 카테고리
  - add, sub, div, mul
- 흐름 제어 카테고리
  - if, goto
- 메서드 호출 카테고리
  - invokevirtual, invokespecial, ...
- 플랫폼 카테고리
  - new, newarray, anewarray, ...

### 단순 인터프리터

### 핫스팟에 특정한 내용

<br/>

## AOT와 JIT 컴파일

<br/>

## 핫스팟 JIT 기초

<br/>

## 코드 캐시

<br/>

## 간단한 JIT 튜닝법
